(function(){var e,ga,J=Object.prototype.hasOwnProperty;this.bcv_parser=e=function(){function e(){var d,g,c;this.options={};c=e.prototype.options;for(d in c)J.call(c,d)&&(g=c[d],this.options[d]=g)}e.prototype.s="";e.prototype.entities=[];e.prototype.passage=null;e.prototype.regexps={};e.prototype.default_options={};e.prototype.options={consecutive_combination_strategy:"combine",osis_compaction_strategy:"b",book_sequence_strategy:"ignore",invalid_sequence_strategy:"ignore",sequence_combination_strategy:"combine",
invalid_passage_strategy:"ignore",zero_chapter_strategy:"error",zero_verse_strategy:"error",book_alone_strategy:"ignore",captive_end_digits_strategy:"delete",end_range_digits_strategy:"verse"};e.prototype.parse=function(d){var g,c,b;this.reset();this.s=d;d=this.replace_control_characters(d);c=this.match_books(d);d=c[0];this.passage.books=c[1];d=this.match_passages(d);this.entities=[];for(c=0,b=d.length;c<b;c++)g=d[c],g=this.passage.handle_array([g])[0],this.entities=this.entities.concat(g);return this};
e.prototype.reset=function(){this.s="";this.entities=[];return this.passage?(this.passage.books=[],this.passage.indices={}):(this.passage=new ga,this.passage.options=this.options,this.passage.translations=this.translations)};e.prototype.set_options=function(d){var g,c,b;b=[];for(g in d)J.call(d,g)&&(c=d[g],b.push(this.options[g]=c));return b};e.prototype.include_apocrypha=function(d){var g,c,b;if(d==null)return this;if(d===true){c=this.translations.apocrypha.order;for(g in c)J.call(c,g)&&(d=c[g],
this.translations["default"].order[g]=d);this.translations["default"].chapters.Ps[150]=this.translations["default"].chapters.Ps151[0];if(!(this.regexps.books[0].apocrypha!=null&&this.regexps.books[0].apocrypha===true)){b=this.regexps.apocrypha;for(d=0,c=b.length;d<c;d++)g=b[d],this.regexps.books.unshift(g)}}else if(d===false){d=this.translations.apocrypha.order;for(g in d)J.call(d,g)&&this.translations["default"].order[g]!=null&&delete this.translations["default"].order[g];if(this.regexps.books[0].apocrypha!=
null&&this.regexps.books[0].apocrypha===true){b=this.regexps.books;for(d=0,c=b.length;d<c;d++)if(g=b[d],typeof g.apocrypha==="function"&&g.apocrypha(g.apocrypha===true))this.regexps.books.shift();else break}this.translations["default"].chapters.Ps.length===151&&this.translations["default"].chapters.Ps.pop()}return this};e.prototype.replace_control_characters=function(d){return d.replace(this.regexps.control," ")};e.prototype.match_books=function(d){var g,c,b,i,v;c=[];v=this.regexps.books;for(b=0,
i=v.length;b<i;b++)g=v[b],d=d.replace(g.regexp,function(d,b,i){c.push({value:i,parsed:g.osis});return""+b+"\u001f"+(c.length-1)+(g.extra!=null?"/"+g.extra:"")+"\u001f"});d=d.replace(this.regexps.translations,function(d){c.push({value:d,parsed:d.toLowerCase()});return"\u001e"+(c.length-1)+"\u001e"});return[d,this.get_book_indices(c,d)]};e.prototype.get_book_indices=function(d,g){var c,b,i;c=0;for(i=/([\x1f\x1e])(\d+)(?:\/[a-z])?\1/g;b=i.exec(g);)d[b[2]].start_index=b.index+c,c+=d[b[2]].value.length-
b[0].length;return d};e.prototype.match_passages=function(d){var g,c,b,i,v;for(v=[];b=this.regexps.escaped_passage.exec(d);)c=b[0],i=b[1],g=b[2],b.index+=c.length-i.length,/\s[2-9]\d\d\s*$|\s\d{4,}\s*$/.test(i)&&(c=/\s+\d+\s*$/,i=i.replace(c,"")),/[\d\x1f\x1e]$/.test(i)||(i=this.replace_match_end(i)),this.options.captive_end_digits_strategy==="delete"&&(b=b.index+i.length,d.length>b&&/^\w/.test(d.substr(b,1))&&(i=i.replace(/[\s*]+\d+$/,"")),i=i.replace(/(\x1e[)\]]?)[\s*]*\d+$/,"$1")),i=i.replace(/[A-Z]+/,
function(d){return d.toLowerCase()}),b=i.substr(0,1==="\u001f")?0:i.split("\u001f")[0].length,i={value:ia.parse(i),type:"base",start_index:this.passage.books[g].start_index-b,match:i},this.options.book_alone_strategy==="full"&&i.value.length===1&&i.value[0].type==="b"&&b===0&&this.passage.books[g].parsed.length===1&&/^[234]/.test(this.passage.books[g].parsed[0])&&this.create_book_range(d,i,g),v.push(i);return v};e.prototype.replace_match_end=function(d){var g,c;for(c=d.length;g=this.regexps.match_end_split.exec(d);)c=
g.index+g[0].length;c<d.length&&(d=d.substr(0,c));return d};e.prototype.create_book_range=function(d,g,c){var b,i,v,j;b=[e.prototype.regexps.first,e.prototype.regexps.second,e.prototype.regexps.third];v=parseInt(this.passage.books[c].parsed[0].substr(0,1),10);for(i=1;1<=v?i<v:i>v;1<=v?i++:i--)if(j=i===v-1?e.prototype.regexps.range_and:e.prototype.regexps.range_only,j=d.match(RegExp("\\b("+b[i-1]+"\\s*"+j+"\\s*)\\x1f"+c+"\\x1f","i")),j!=null)return this.add_book_range_object(g,j,i);return false};e.prototype.add_book_range_object=
function(d,g,c){var b;b=g[1].length;d.value[0]={type:"b_range_pre",value:[{type:"b_pre",value:c.toString(),indices:[g.index,g.index+b]},d.value[0]],indices:[0,d.value[0].indices[1]+b]};d.value[0].value[1].indices[0]+=b;d.value[0].value[1].indices[1]+=b;d.start_index-=b;return d.match=g[1]+d.match};e.prototype.osis=function(){var d,g,c,b,i;g=[];i=this.parsed_entities();for(c=0,b=i.length;c<b;c++)d=i[c],d.osis.length>0&&g.push(d.osis);return g.join(",")};e.prototype.osis_and_translations=function(){var d,
g,c,b,i;g=[];i=this.parsed_entities();for(c=0,b=i.length;c<b;c++)d=i[c],d.osis.length>0&&g.push([d.osis,d.translations.join(",")]);return g};e.prototype.osis_and_indices=function(){var d,g,c,b,i;g=[];i=this.parsed_entities();for(c=0,b=i.length;c<b;c++)d=i[c],d.osis.length>0&&g.push({osis:d.osis,translations:d.translations,indices:d.indices});return g};e.prototype.parsed_entities=function(){var d,g,c,b,i,v,e,k,n,o,Y,z;e=[];for(g=0,o=this.entities.length;0<=o?g<o:g>o;0<=o?g++:g--)if(d=this.entities[g],
d.type&&d.type==="translation_sequence"&&e.length>0&&g===e[e.length-1].entity_id+1&&(e[e.length-1].indices[1]=d.absolute_indices[1]),d.passages!=null&&!((d.type==="b"||d.type==="b_range")&&this.options.book_alone_strategy==="ignore")){n=[];i=null;if(d.passages[0].translations!=null){Y=d.passages[0].translations;for(b=0,k=Y.length;b<k;b++){v=Y[b];c=((z=v.osis)!=null?z.length:void 0)>0?v.osis:"";if(i==null)i=v.alias;n.push(c)}}else n=[""],i="default";v=[];b=d.passages.length;for(c=0;0<=b?c<b:c>b;0<=
b?c++:c--){k=d.passages[c];if(k.type==null)k.type=d.type;if(k.valid.valid===false&&(this.options.invalid_sequence_strategy==="ignore"&&d.type==="sequence"&&this.snap_sequence("ignore",d,v,c,b),this.options.invalid_passage_strategy==="ignore"))continue;if((k.type==="b"||k.type==="b_range")&&this.options.book_sequence_strategy==="ignore"&&d.type==="sequence")this.snap_sequence("book",d,v,c,b);else{if(k.absolute_indices==null)k.absolute_indices=d.absolute_indices;v.push({osis:k.valid.valid?this.to_osis(k.start,
k.end,i):"",type:k.type,indices:k.absolute_indices,translations:n,start:k.start,end:k.end,entity_id:g,entities:[k]})}}if(v.length!==0)if(v.length>1&&this.options.consecutive_combination_strategy==="combine"&&(v=this.combine_consecutive_passages(v,i)),this.options.sequence_combination_strategy==="separate")e=e.concat(v);else{c=[];for(b=0,k=v.length;b<k;b++)i=v[b],i.osis.length>0&&c.push(i.osis);e.push({osis:c.join(","),indices:d.absolute_indices,translations:n,entity_id:g,entities:v})}}return e};e.prototype.to_osis=
function(d,g,c){if(g.c==null&&g.v==null&&d.b===g.b&&d.c==null&&d.v==null&&this.options.book_alone_strategy==="first_chapter")g.c=1;if(d.c==null)d.c=1;if(d.v==null)d.v=1;if(g.c==null)g.c=this.passage.translations[c].chapters[g.b].length;if(g.v==null)g.v=this.passage.translations[c].chapters[g.b][g.c-1];this.options.osis_compaction_strategy==="b"&&d.c===1&&d.v===1&&g.c===this.passage.translations[c].chapters[g.b].length&&g.v===this.passage.translations[c].chapters[g.b][g.c-1]?(d=d.b,g=g.b):this.options.osis_compaction_strategy.length<=
2&&d.v===1&&g.v===this.passage.translations[c].chapters[g.b][g.c-1]?(d=d.b+"."+d.c.toString(),g=g.b+"."+g.c.toString()):(d=d.b+"."+d.c.toString()+"."+d.v.toString(),g=g.b+"."+g.c.toString()+"."+g.v.toString());return d===g?d:d+"-"+g};e.prototype.combine_consecutive_passages=function(d,g){var c,b,i,e,j;b=[];i={};for(e=0,j=d.length;e<j;e++)c=d[e],c.osis.length>0?(this.is_verse_consecutive(i,c.start,g)?(i=b.length-1,b[i].end=c.end,b[i].indices[1]=c.indices[1],b[i].osis=this.to_osis(b[i].start,c.end,
g)):b.push(c),i={b:c.end.b,c:c.end.c,v:c.end.v}):(b.push(c),i={});return b};e.prototype.is_verse_consecutive=function(d,g,c){if(d.b==null)return false;if(d.b===g.b)if(d.c===g.c){if(d.v===g.v-1)return true}else{if(g.v===1&&d.c===g.c-1&&d.v===this.passage.translations[c].chapters[d.b][d.c-1])return true}else if(g.c===1&&g.v===1&&this.passage.translations[c].order[d.b]===this.passage.translations[c].order[g.b]-1&&d.c===this.passage.translations[c].chapters[d.b].length&&d.v===this.passage.translations[c].chapters[d.b][d.c-
1])return true;return false};e.prototype.snap_sequence=function(d,g,c,b,i){var e;e=g.passages[b];e.absolute_indices[0]===g.absolute_indices[0]&&b<i-1&&this.get_snap_sequence_i(g.passages,b,i)!==b?g.absolute_indices[0]=g.passages[b+1].absolute_indices[0]:e.absolute_indices[1]===g.absolute_indices[1]&&b>0?g.absolute_indices[1]=c.length>0?c[c.length-1].indices[1]:g.passages[b-1].absolute_indices[1]:d==="book"&&b<i-1&&!this.starts_with_book(g.passages[b+1])&&(g.passages[b+1].absolute_indices[0]=e.absolute_indices[0]);
return g};e.prototype.get_snap_sequence_i=function(d,g,c){var b,i;for(b=i=g+1;i<=c?b<c:b>c;i<=c?b++:b--){if(this.starts_with_book(d[b]))return b;if(d[b].valid.valid)break}return g};e.prototype.starts_with_book=function(d){return d.type.substr(0,1)==="b"?true:(d.type==="range"||d.type==="ff")&&d.start.type.substr(0,1)==="b"?true:false};return e}();ga=function(){function e(){}e.prototype.books=[];e.prototype.indices={};e.prototype.options={};e.prototype.translations={};e.prototype.handle_array=function(d,
g,c){var b,i,e,j;g==null&&(g=[]);c==null&&(c={});for(i=0,e=d.length;i<e;i++)b=d[i],j=this.handle_obj(b,g,c),g=j[0],c=j[1];return[g,c]};e.prototype.handle_obj=function(d,g,c){return d.type!=null&&this[d.type]!=null?this[d.type](d,g,c):[g,c]};e.prototype.b=function(d,g,c){var b,i,e,j,k;d.start_context=this.shallow_clone(c);d.passages=[];c=[];k=this.books[d.value].parsed;for(e=0,j=k.length;e<j;e++)b=k[e],i=this.validate_ref(d.start_context.translations,{b:b}),b={start:{b:b},end:{b:b},valid:i},d.passages.length===
0&&i.valid?d.passages.push(b):c.push(b);d.passages.length===0&&d.passages.push(c.shift());if(c.length>0)d.passages[0].alternates=c;if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);g.push(d);c={b:d.passages[0].start.b};if(d.start_context.translations!=null)c.translations=d.start_context.translations;return[g,c]};e.prototype.b_range=function(d,g,c){return this.range(d,g,c)};
e.prototype.b_range_pre=function(d,g,c){var b,i;d.start_context=this.shallow_clone(c);d.passages=[];i=this.b(this.pluck("b",d.value),[],c);b=i[0][0];c=i[1];if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);i={b:d.value[0].value+b.passages[0].start.b.substr(1),type:"b"};d.passages=[{start:i,end:b.passages[0].end,valid:b.passages[0].valid}];if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;g.push(d);return[g,c]};e.prototype.base=
function(d,g,c){this.indices=this.calculate_indices(d.match,d.start_index);return this.handle_array(d.value,g,c)};e.prototype.bc=function(d,g,c){var b,i,e,j,k,n,o,r,z,C;d.start_context=this.shallow_clone(c);d.passages=[];j=["b","c","v"];for(i=0,e=j.length;i<e;i++)b=j[i],delete c[b];e=this.pluck("c",d.value).value;b=[];C=this.books[this.pluck("b",d.value).value].parsed;for(o=0,z=C.length;o<z;o++){i=C[o];j="c";n=this.validate_ref(d.start_context.translations,{b:i,c:e});k={start:{b:i},end:{b:i},valid:n};
if(n.messages.start_chapter_not_exist_in_single_chapter_book)k.valid=this.validate_ref(d.start_context.translations,{b:i,v:e}),k.start.c=1,k.end.c=1,j="v";k.start[j]=e;r=this.fix_start_zeroes(k.valid,k.start.c,k.start.v);k.start.c=r[0];k.start.v=r[1];k.end[j]=k.start[j];d.passages.length===0&&k.valid.valid?d.passages.push(k):b.push(k)}d.passages.length===0&&d.passages.push(b.shift());if(b.length>0)d.passages[0].alternates=b;if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;
if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);e=["b","c","v"];for(r=0,i=e.length;r<i;r++)b=e[r],d.passages[0].start[b]!=null&&(c[b]=d.passages[0].start[b]);g.push(d);return[g,c]};e.prototype.bc_title=function(d,g,c){var b,i,e;d.start_context=this.shallow_clone(c);i=this.bc(this.pluck("bc",d.value),[],c);b=i[0][0];c=i[1];if(b.passages[0].start.b!=="Ps"&&b.passages[0].alternates!=null)for(i=0,e=b.passages[0].alternates.length;0<=e?i<e:i>e;0<=e?i++:i--)if(b.passages[0].alternates[i].start.b===
"Ps"){b.passages[0]=b.passages[0].alternates[i];break}if(b.passages[0].start.b!=="Ps")return g.push(b),[g,c];this.books[this.pluck("b",b.value).value].parsed=["Ps"];c=this.pluck("title",d.value);d.value[1]={type:"v",value:[{type:"integer",value:1,indices:c.indices}],indices:c.indices};d.original_type="bc_title";d.type="bcv";return this.bcv(d,g,d.start_context)};e.prototype.bcv=function(d,g,c){var b,i,e,j,k,n,o,r,z;d.start_context=this.shallow_clone(c);d.passages=[];e=["b","c","v"];for(j=0,k=e.length;j<
k;j++)b=e[j],delete c[b];e=this.pluck("bc",d.value);j=this.pluck("c",e.value).value;k=this.pluck("v",d.value).value;b=[];z=this.books[this.pluck("b",e.value).value].parsed;for(n=0,r=z.length;n<r;n++)i=z[n],e=this.validate_ref(d.start_context.translations,{b:i,c:j,v:k}),o=this.fix_start_zeroes(e,j,k),j=o[0],k=o[1],i={start:{b:i,c:j,v:k},end:{b:i,c:j,v:k},valid:e},d.passages.length===0&&e.valid?d.passages.push(i):b.push(i);d.passages.length===0&&d.passages.push(b.shift());if(b.length>0)d.passages[0].alternates=
b;if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);k=["b","c","v"];for(o=0,j=k.length;o<j;o++)b=k[o],d.passages[0].start[b]!=null&&(c[b]=d.passages[0].start[b]);g.push(d);return[g,c]};e.prototype.bv=function(d,g,c){var b,i,e,j;d.start_context=this.shallow_clone(c);e=d.value;b=e[0];i=e[1];b={indices:d.indices,value:[{type:"bc",value:[b,{type:"c",value:[{type:"integer",value:1}]}]},
i]};j=this.bcv(b,[],c);b=j[0][0];c=j[1];d.passages=b.passages;if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);g.push(d);return[g,c]};e.prototype.c=function(d,g,c){var b,i;d.start_context=this.shallow_clone(c);b=d.type==="integer"?d.value:this.pluck("integer",d.value).value;i=this.validate_ref(d.start_context.translations,{b:c.b,c:b});if(!i.valid&&i.messages.start_chapter_not_exist_in_single_chapter_book)return this.v(d,
g,c);b=this.fix_start_zeroes(i,b)[0];d.passages=[{start:{b:c.b,c:b},end:{b:c.b,c:b},valid:i}];if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;g.push(d);c.c=b;delete c.v;if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);return[g,c]};e.prototype.c_psalm=function(d,g,c){var b;d.original_type=d.type;d.original_value=d.value;d.type="bc";b=this.books[d.value].value.match(/^\d+/)[0];d.value=[{type:"b",value:d.original_value,
indices:d.indices},{type:"c",value:[{type:"integer",value:b,indices:d.indices}],indices:d.indices}];return this.bc(d,g,c)};e.prototype.c_title=function(d,g,c){d.start_context=this.shallow_clone(c);if(c.b!=="Ps")return this.c(d.value[0],g,c);c=this.pluck("title",d.value);d.value[1]={type:"v",value:[{type:"integer",value:1,indices:c.indices}],indices:c.indices};d.original_type="c_title";d.type="cv";return this.cv(d,g,d.start_context)};e.prototype.cv=function(d,g,c){var b,i,e,j;d.start_context=this.shallow_clone(c);
b=this.pluck("c",d.value).value;i=this.pluck("v",d.value).value;e=this.validate_ref(d.start_context.translations,{b:c.b,c:b,v:i});j=this.fix_start_zeroes(e,b,i);b=j[0];i=j[1];d.passages=[{start:{b:c.b,c:b,v:i},end:{b:c.b,c:b,v:i},valid:e}];if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;g.push(d);c.c=b;c.v=i;if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);return[g,c]};e.prototype.cb_range=function(d,g,c){var b,i,e,j;
d.original_type=d.type;d.type="range";j=d.value;b=j[0];e=j[1];i=j[2];d.original_value=[b,e,i];d.value=[{type:"bc",value:[b,e],indices:d.indices},i];i.indices[1]=d.indices[1];return this.range(d,g,c)};e.prototype.cv_psalm=function(d,g,c){var b,i,e;d.start_context=this.shallow_clone(c);d.original_type=d.type;d.original_value=d.value;e=d.value;b=e[0];i=e[1];d.type="bcv";b=this.c_psalm(b,[],d.start_context)[0][0];d.value=[b,i];return this.bcv(d,g,c)};e.prototype.ff=function(d,g,c){var b;d.start_context=
this.shallow_clone(c);d.value.push({type:"integer",indices:d.indices,value:999});b=this.range(d,[],d.start_context);d=b[0][0];c=b[1];d.value.pop();d.passages[0].valid.end_verse_not_exist!=null&&delete d.passages[0].valid.end_verse_not_exist;d.passages[0].valid.end_chapter_not_exist!=null&&delete d.passages[0].valid.end_chapter_not_exist;d.passages[0].end.original_c!=null&&delete d.passages[0].end.original_c;g.push(d);if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);
return[g,c]};e.prototype.integer_title=function(d,g,c){d.start_context=this.shallow_clone(c);if(c.b!=="Ps")return this.integer(d.value[0],g,c);d.value[0]={type:"c",value:[d.value[0]],indices:[d.value[0].indices[0],d.value[0].indices[1]]};c=[d.indices[1]-5,d.indices[1]];d.value[1]={type:"v",value:[{type:"integer",value:1,indices:c}],indices:c};d.original_type="integer_title";d.type="cv";return this.cv(d,g,d.start_context)};e.prototype.integer=function(d,g,c){return c.v!=null?this.v(d,g,c):this.c(d,
g,c)};e.prototype.sequence=function(d,g,c){var b,i,e,j,k,n,o,r,z;d.start_context=this.shallow_clone(c);d.passages=[];o=d.value;for(e=0,k=o.length;e<k;e++){b=o[e];r=this.handle_array(b,[],c);b=r[0][0];c=r[1];z=b.passages;for(j=0,n=z.length;j<n;j++){i=z[j];if(i.type==null)i.type=b.type;if(i.absolute_indices==null)i.absolute_indices=b.absolute_indices;if(b.start_context.translations!=null)i.translations=b.start_context.translations;d.passages.push(i)}}if(d.absolute_indices==null)d.absolute_indices=d.passages.length>
0?[d.passages[0].absolute_indices[0],d.passages[d.passages.length-1].absolute_indices[1]]:this.get_absolute_indices(d.indices);g.push(d);return[g,c]};e.prototype.v=function(d,g,c){var b,i,e,j;i=d.type==="integer"?d.value:this.pluck("integer",d.value).value;d.start_context=this.shallow_clone(c);b=c.c!=null?c.c:1;e=this.validate_ref(d.start_context.translations,{b:c.b,c:b,v:i});j=this.fix_start_zeroes(e,0,i);i=j[1];d.passages=[{start:{b:c.b,c:b,v:i},end:{b:c.b,c:b,v:i},valid:e}];if(d.start_context.translations!=
null)d.passages[0].translations=d.start_context.translations;if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);g.push(d);c.v=i;return[g,c]};e.prototype.range=function(d,g,c){var b,i,e,j,k,n,o,r;d.start_context=this.shallow_clone(c);j=d.value;e=j[0];b=j[1];if(b.type==="v"&&(e.type==="bc"||e.type==="c")&&this.options.end_range_digits_strategy==="verse")return this.range_change_integer_end(d,g);i=this.handle_obj(e,[],c);e=i[0][0];c=i[1];n=this.handle_obj(b,[],c);b=n[0][0];
c=n[1];d.value=[e,b];d.indices=[e.indices[0],b.indices[1]];delete d.absolute_indices;j={b:e.passages[0].start.b,c:e.passages[0].start.c,v:e.passages[0].start.v,type:e.type};i={b:b.passages[0].end.b,c:b.passages[0].end.c,v:b.passages[0].end.v,type:b.type};if(b.passages[0].valid.messages.start_chapter_is_zero)i.c=0;if(b.passages[0].valid.messages.start_verse_is_zero)i.v=0;n=this.validate_ref(d.start_context.translations,j,i);if(n.valid){if(n.messages.end_chapter_not_exist&&this.options.end_range_digits_strategy===
"verse"&&j.v==null&&(b.type==="integer"||b.type==="v"))if(k=b.type==="v"?this.pluck("integer",b.value):b.value,k=this.validate_ref(d.start_context.translations,{b:j.b,c:j.c,v:k}),k.valid)return this.range_change_integer_end(d,g);if(n.messages.end_chapter_not_exist&&this.options.end_range_digits_strategy==="verse"&&j.v!=null&&b.type==="cv"&&(k=this.validate_ref(d.start_context.translations,{b:i.b,c:j.c,v:i.c}),k.valid&&(k=this.validate_ref(d.start_context.translations,{b:i.b,c:j.c,v:i.v})),k.valid))return this.range_change_cv_end(d,
g);this.range_validate(n,j,i,d)}else{if((n.messages.end_chapter_before_start||n.messages.end_verse_before_start)&&(b.type==="integer"||b.type==="v")||n.messages.end_chapter_before_start&&b.type==="cv")if(c=this.range_check_new_end(d.start_context.translations,j,i,n),c>0)return this.range_change_end(d,g,c);if(this.options.end_range_digits_strategy==="verse"&&j.v===void 0&&(b.type==="integer"||b.type==="v"))if(k=b.type==="v"?this.pluck("integer",b.value):b.value,k=this.validate_ref(d.start_context.translations,
{b:j.b,c:j.c,v:k}),k.valid)return this.range_change_integer_end(d,g);o=[d.type,"sequence"];d.original_type=o[0];d.type=o[1];r=[[e,b],[[e],[b]]];d.original_value=r[0];d.value=r[1];return this.handle_obj(d,g,d.start_context)}if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);d.passages=[{start:j,end:i,valid:n}];if(d.start_context.translations!=null)d.passages[0].translations=d.start_context.translations;g.push(d);return[g,c]};e.prototype.range_change_end=function(d,
g,c){var b,i;i=d.value;b=i[1];if(b.type==="integer")b.original_value=b.value,b.value=c;else if(b.type==="v")b=this.pluck("integer",b.value),b.original_value=b.value,b.value=c;else if(b.type==="cv")b=this.pluck("c",b.value),b.original_value=b.value,b.value=c;return this.handle_obj(d,g,d.start_context)};e.prototype.range_change_integer_end=function(d,g){var c,b,i;i=d.value;b=i[0];c=i[1];d.original_type=d.type;d.original_value=[b,c];d.type=b.type==="integer"?"cv":b.type+"v";b.type==="integer"&&(d.value[0]=
{type:"c",value:[b],indices:b.indices});c.type==="integer"&&(d.value[1]={type:"v",value:[c],indices:c.indices});return this.handle_obj(d,g,d.start_context)};e.prototype.range_change_cv_end=function(d,g){var c,b,i,e;b=d.value;i=b[0];c=b[1];d.original_type=d.type;d.original_value=[i,c];d.type="sequence";e=c.value;c=e[0];b=e[1];c=this.shallow_clone(c);c.original_type=c.type;c.type="v";d.value=[[{type:"range",value:[i,c],indices:[i.indices[0],c.indices[1]]}],[b]];return this.sequence(d,g,d.start_context)};
e.prototype.range_validate=function(d,g,c,b){var i;if(d.messages.end_chapter_not_exist){if(c.original_c=c.c,c.c=d.messages.end_chapter_not_exist,c.v!=null)c.v=this.validate_ref(b.start_context.translations,{b:c.b,c:c.c,v:999}).messages.end_verse_not_exist}else if(d.messages.end_verse_not_exist)c.original_v=c.v,c.v=d.messages.end_verse_not_exist;if(d.messages.end_verse_is_zero&&this.options.zero_verse_strategy!=="allow")c.v=d.messages.end_verse_is_zero;if(d.messages.end_chapter_is_zero)c.c=d.messages.end_chapter_is_zero;
i=this.fix_start_zeroes(d,g.c,g.v);g.c=i[0];g.v=i[1];return true};e.prototype.fix_start_zeroes=function(d,g,c){if(d.valid){if(d.messages.start_chapter_is_zero)g=d.messages.start_chapter_is_zero;if(d.messages.start_verse_is_zero&&this.options.zero_verse_strategy!=="allow")c=d.messages.start_verse_is_zero}return[g,c]};e.prototype.range_check_new_end=function(d,g,c,b){var i,e;i=0;e=null;b.messages.end_chapter_before_start?e="c":b.messages.end_verse_before_start&&(e="v");e!=null&&(i=this.range_get_new_end_value(g,
c,b,e));i>0&&(g={b:c.b,c:c.c,v:c.v},g[e]=i,d=this.validate_ref(d,g),d.valid||(i=0));return i};e.prototype.range_get_new_end_value=function(d,g,c,b){var i;i=0;if(b==="c"&&c.messages.end_chapter_is_zero||b==="v"&&c.messages.end_verse_is_zero)return i;d[b]>=10&&g[b]<10&&d[b]-10*Math.floor(d[b]/10)<g[b]?i=g[b]+10*Math.floor(d[b]/10):d[b]>=100&&g[b]<100&&d[b]-100<g[b]&&(i=g[b]+100);return i};e.prototype.translation_sequence=function(d,g,c){var b,i,e,j,k,n;e=[];e.push({translation:this.books[d.value[0].value].parsed});
k=d.value[1];for(i=0,j=k.length;i<j;i++)b=k[i],b=this.books[this.pluck("translation",b).value].parsed,e.push({translation:b!=null?b:void 0});for(j=0,k=e.length;j<k;j++)i=e[j],b=this.translations.aliases[i.translation]!=null?i.translation:"default",i.osis=this.translations.aliases[b].osis,i.alias=this.translations.aliases[b].alias;if(g.length>0){i=0;for(b=j=g.length-1;j<=0?b<=0:b>=0;j<=0?b++:b--){if(g[b].original_type!=null)g[b].type=g[b].original_type;if(g[b].original_value!=null)g[b].value=g[b].original_value;
if(g[b].type==="translation_sequence"){i=b+1;break}}if(i<g.length)g[i].start_context.translations=e,n=this.handle_array(g.slice(i),[],g[i].start_context),c=n[1]}if(d.absolute_indices==null)d.absolute_indices=this.get_absolute_indices(d.indices);g.push(d);delete c.translations;return[g,c]};e.prototype.pluck=function(d,g){var c,b,i;for(b=0,i=g.length;b<i;b++)if(c=g[b],c.type!=null&&c.type===d)return d==="c"||d==="v"?this.pluck("integer",c.value):c;return null};e.prototype.shallow_clone=function(d){var g,
c,b;c={};for(g in d)J.call(d,g)&&(b=d[g],c[g]=b);return c};e.prototype.calculate_indices=function(d,g){var c,b,i,e,j,k,n,o,r,z,C,E;n="book";b=[];i=0;g=parseInt(g,10);k=[d];E=["\u001e","\u001f"];for(o=0,z=E.length;o<z;o++){c=E[o];j=[];for(r=0,C=k.length;r<C;r++)e=k[r],j=j.concat(e.split(c));k=j}for(o=0,r=k.length;o<r;o++)if(e=k[o],n=n==="book"?"rest":"book",j=e.length,j!==0)n==="book"?(e=e.replace(/\/[a-z]$/,""),c=i+j,b.length>0&&b[b.length-1].index===g?b[b.length-1].end=c:b.push({start:i,end:c,index:g}),
i+=j+2,g=this.books[e].start_index+this.books[e].value.length-i,b.push({start:c+1,end:c+1,index:g})):(c=i+j-1,b.length>0&&b[b.length-1].index===g?b[b.length-1].end=c:b.push({start:i,end:c,index:g}),i+=j);return b};e.prototype.get_absolute_indices=function(d){var g,c,b,i,e,j,k;b=d[0];d=d[1];g=i=null;k=this.indices;for(e=0,j=k.length;e<j;e++)if(c=k[e],i===null&&c.start<=b&&b<=c.end&&(i=b+c.index),c.start<=d&&d<=c.end){g=d+c.index+1;break}return[i,g]};e.prototype.validate_ref=function(d,g,c){var b,i,
e,j;d||(d=[{translation:"default",osis:"",alias:"default"}]);b=d[0];if(b==null)return{valid:false,messages:{translation_invalid:true}};d={};if(b.alias==null)b.alias="default";if(b.alias==null)return{valid:false,messages:{translation_invalid:true}};if(this.translations[b.alias]==null)b.alias="default",d.translation_unknown=true;e=this.validate_start_ref(b.alias,g,true,d);i=e[0];d=e[1];c&&(j=this.validate_end_ref(b.alias,g,c,i,d),i=j[0],d=j[1]);return{valid:i,messages:d}};e.prototype.validate_start_ref=
function(d,e,c,b){if(this.translations[d].order[e.b]!=null){if(e.c==null)e.c=1;e.c=parseInt(e.c,10);if(isNaN(e.c))return b.start_chapter_not_numeric=true,[false,b];if(e.c===0)b.start_chapter_is_zero=1,this.options.zero_chapter_strategy==="error"?c=false:e.c=1;if(e.c>0&&this.translations[d].chapters[e.b][e.c-1]!=null){if(e.v!=null)if(e.v=parseInt(e.v,10),isNaN(e.v))c=false,b.start_verse_not_numeric=true;else if(e.v===0)if(b.start_verse_is_zero=1,this.options.zero_verse_strategy==="error")c=false;else{if(this.options.zero_verse_strategy===
"upgrade")e.v=1}else if(e.v>this.translations[d].chapters[e.b][e.c-1])c=false,b.start_verse_not_exist=this.translations[d].chapters[e.b][e.c-1]}else if(c=false,e.c!==1&&this.translations[d].chapters[e.b].length===1)b.start_chapter_not_exist_in_single_chapter_book=1;else if(e.c>0)b.start_chapter_not_exist=this.translations[d].chapters[e.b].length}else c=false,b.start_book_not_exist=true;return[c,b]};e.prototype.validate_end_ref=function(d,e,c,b,i){if(c.c!=null)c.c=parseInt(c.c,10);if(c.v!=null)c.v=
parseInt(c.v,10);if(c.c!=null&&!isNaN(c.c)&&c.c===0)i.end_chapter_is_zero=1,this.options.zero_chapter_strategy==="error"?b=false:c.c=1;if(this.translations[d].order[c.b]!=null){if(this.translations[d].order[e.b]!=null&&this.translations[d].order[e.b]>this.translations[d].order[c.b])b=false,i.end_book_before_start=true;if(e.b===c.b&&c.c!=null&&!isNaN(c.c)){if(e.c==null)e.c=1;if(!isNaN(parseInt(e.c,10))&&e.c>c.c)b=false,i.end_chapter_before_start=true;else if(e.c===c.c&&c.v!=null&&!isNaN(c.v)){if(e.v==
null)e.v=1;if(!isNaN(parseInt(e.v,10))&&e.v>c.v)b=false,i.end_verse_before_start=true}}if(c.c!=null&&!isNaN(c.c)&&this.translations[d].chapters[c.b][c.c-1]==null)if(this.translations[d].chapters[c.b].length===1)i.end_chapter_not_exist_in_single_chapter_book=1;else if(c.c>0)i.end_chapter_not_exist=this.translations[d].chapters[c.b].length;if(c.v!=null&&!isNaN(c.v)){if(c.c==null)c.c=this.translations[d].chapters[c.b].length;if(c.v>this.translations[d].chapters[c.b][c.c-1])i.end_verse_not_exist=this.translations[d].chapters[c.b][c.c-
1];else if(c.v===0)if(i.end_verse_is_zero=1,this.options.zero_verse_strategy==="error")b=false;else if(this.options.zero_verse_strategy==="upgrade")c.v=1}}else b=false,i.end_book_not_exist=true;if(c.c!=null&&isNaN(c.c))b=false,i.end_chapter_not_numeric=true;if(c.v!=null&&isNaN(c.v))b=false,i.end_verse_not_numeric=true;return[b,i]};return e}();e.prototype.regexps.translations=/(?:ESV|HCSB|N?KJV|MSG|NASB?|T?NIV|NLT|NRSV)\b/gi;e.prototype.translations={aliases:{esv:{osis:"ESV",alias:"default"},hcsb:{osis:"HCSB",
alias:"default"},kjv:{osis:"KJV",alias:"default"},msg:{osis:"MSG",alias:"default"},nas:{osis:"NASB",alias:"default"},nasb:{osis:"NASB",alias:"default"},niv:{osis:"NIV",alias:"default"},nkjv:{osis:"NKJV",alias:"default"},nlt:{osis:"NLT",alias:"default"},nrsv:{osis:"NRSV",alias:"default"},tniv:{osis:"TNIV",alias:"default"},"default":{osis:"",alias:"default"}},"default":{order:{Gen:1,Exod:2,Lev:3,Num:4,Deut:5,Josh:6,Judg:7,Ruth:8,"1Sam":9,"2Sam":10,"1Kgs":11,"2Kgs":12,"1Chr":13,"2Chr":14,Ezra:15,Neh:16,
Esth:17,Job:18,Ps:19,Prov:20,Eccl:21,Song:22,Isa:23,Jer:24,Lam:25,Ezek:26,Dan:27,Hos:28,Joel:29,Amos:30,Obad:31,Jonah:32,Mic:33,Nah:34,Hab:35,Zeph:36,Hag:37,Zech:38,Mal:39,Matt:40,Mark:41,Luke:42,John:43,Acts:44,Rom:45,"1Cor":46,"2Cor":47,Gal:48,Eph:49,Phil:50,Col:51,"1Thess":52,"2Thess":53,"1Tim":54,"2Tim":55,Titus:56,Phlm:57,Heb:58,Jas:59,"1Pet":60,"2Pet":61,"1John":62,"2John":63,"3John":64,Jude:65,Rev:66},chapters:{Gen:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,
35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26],Exod:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38],Lev:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34],Num:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13],Deut:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,
52,29,12],Josh:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33],Judg:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25],Ruth:[22,23,18,22],"1Sam":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13],"2Sam":[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25],"1Kgs":[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53],"2Kgs":[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,
26,20,37,20,30],"1Chr":[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30],"2Chr":[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23],Ezra:[11,70,13,24,17,22,28,36,15,44],Neh:[11,20,32,23,19,19,73,18,38,39,36,47,31],Esth:[22,23,15,17,14,14,10,17,32,3],Job:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17],Ps:[6,12,8,8,12,10,17,9,20,
18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6],Prov:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31],Eccl:[18,26,22,16,20,12,
29,17,18,20,10,14],Song:[17,17,11,16,16,13,13,14],Isa:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24],Jer:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34],Lam:[22,22,66,22,22],Ezek:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,
27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35],Dan:[21,49,30,37,31,28,28,27,27,21,45,13],Hos:[11,23,5,19,15,11,16,14,17,15,12,14,16,9],Joel:[20,32,21],Amos:[15,16,15,13,27,14,17,14,15],Obad:[21],Jonah:[17,10,10,11],Mic:[16,13,12,13,15,16,20],Nah:[15,13,19],Hab:[17,20,19],Zeph:[18,15,20],Hag:[15,23],Zech:[21,13,10,14,11,15,14,23,17,12,17,14,9,21],Mal:[14,17,18,6],Matt:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20],Mark:[45,28,35,41,
43,56,37,38,50,52,33,44,37,72,47,20],Luke:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53],John:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25],Acts:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31],Rom:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27],"1Cor":[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24],"2Cor":[24,17,18,18,21,18,16,24,15,18,33,21,14],Gal:[24,21,29,31,26,18],Eph:[23,22,21,32,33,24],Phil:[30,30,21,23],
Col:[29,23,25,18],"1Thess":[10,20,13,18,28],"2Thess":[12,17,18],"1Tim":[20,15,16,16,25,21],"2Tim":[18,26,17,22],Titus:[16,15,15],Phlm:[25],Heb:[14,18,19,16,14,20,28,13,28,39,40,29,25],Jas:[27,26,18,17,20],"1Pet":[25,25,22,19,14],"2Pet":[21,22,18],"1John":[10,29,24,21,21],"2John":[13],"3John":[15],Jude:[25],Rev:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21],Tob:[22,14,17,21,22,18,17,21,6,14,18,22,18,15],Jdt:[16,28,10,15,24,21,32,36,14,23,23,20,20,19,14,25],GkEsth:[22,23,15,17,14,
14,10,17,32,13,12,6,18,19,16,24],Wis:[16,24,19,20,23,25,30,21,18,21,26,27,19,31,19,29,21,25,22],Sir:[30,17,31,31,15,37,36,19,18,31,34,18,26,27,20,30,32,33,30,31,28,27,27,34,26,29,30,26,28,25,31,24,33,31,26,31,31,34,35,30,22,25,33,23,26,20,25,25,16,29,30],Bar:[22,35,38,37,9,72],PrAzar:[68],Sus:[64],Bel:[42],SgThree:[39],EpJer:[72],"1Macc":[63,70,59,61,68,63,50,32,73,89,74,53,53,49,41,24],"2Macc":[36,32,40,50,27,31,42,36,29,38,38,46,26,46,39],"3Macc":[29,33,30,21,51,41,23],"4Macc":[35,24,21,26,38,35,
23,29,32,21,27,19,27,20,32,25,24,24],"1Esd":[58,30,24,63,73,34,15,96,55],"2Esd":[40,48,36,52,56,59,70,63,47,59,46,51,58,48,63,78],PrMan:[15],Ps151:[7]}},apocrypha:{order:{Tob:67,Jdt:68,GkEsth:69,Wis:70,Sir:71,Bar:72,PrAzar:73,Sus:74,Bel:75,SgThree:76,EpJer:77,"1Macc":78,"2Macc":79,"3Macc":80,"4Macc":81,"1Esd":82,"2Esd":83,PrMan:84}}};e.prototype.regexps.escaped_passage=/(?:^|[^\w\x1f\x1e])((?:(?:ch(?:apters?|a?pts?\.?|a?p?s?\.?)?\s*\d+\s*(?:[\u2013\u2014\-]|through|thru|to)\s*\d+\s*(?:from|of|in)(?:\s+the\s+book\s+of)?\s*)|(?:ch(?:apters?|a?pts?\.?|a?p?s?\.?)?\s*\d+\s*(?:from|of|in)(?:\s+the\s+book\s+of)?\s*)|(?:\d+(?:th|nd|st)\s*ch(?:apter|a?pt\.?|a?p?\.?)?\s*(?:from|of|in)(?:\s+the\s+book\s+of)?\s*))?\x1f(\d+)(?:\/[a-z])?\x1f(?:c(?:f|ompare|h(?:apters?|a?pts?|a?p?s?))|a(?:nd|lso)|\/p\x1f|[\d.:,;\x1e\x1f&\(\)\[\]\/"'\*=~\-\u2013\u2014\s\u00a0]|[a-e](?!\w)|ff?\b|see|title(?![a-z])|thr(?:ough|u)|to|v(?:erses?|er|ss?|v)?|$)+)/gi;
e.prototype.regexps.match_end_split=/\d+\W*title|\d+\W*ff?(?:[\s\u00a0*]*\.)?|\d+[\s\u00a0*]*[a-e](?!\w)|\x1e(?:[\s\u00a0*]*[)\]])?|[\d\x1f]+/gi;e.prototype.regexps.space="[\\s\\u00a0]";e.prototype.regexps.control=/[\x1e\x1f]/g;e.prototype.regexps.first="(?:1st|1|I|First)\\.?"+e.prototype.regexps.space+"*";e.prototype.regexps.second="(?:2nd|2|II|Second)\\.?"+e.prototype.regexps.space+"*";e.prototype.regexps.third="(?:3rd|3|III|Third)\\.?"+e.prototype.regexps.space+"*";e.prototype.regexps.gospel="(?:(?:The[.\\s\\u00a0-]*)?Gospel[.\\s\\u00a0-]?(?:of[.\\s\\u00a0-]*|according[\\s\\u00a0-]*?to[.\\s\\u00a0-]*)(?:[.\\s\\u00a0-]*?(?:Saint|St)[.\\s\\u00a0-]*)?|(?:(?:Saint|St)[.\\s\\u00a0-]*))?";
e.prototype.regexps.range_and="(?:[&\u2013\u2014-]|and|through|to)";e.prototype.regexps.range_only="(?:[\u2013\u2014-]|through|to)";e.prototype.regexps.books=[{osis:["Gen"],regexp:/(\d|\b)(Ge(?:nn?[ei][ei]?s[eiu]s|nn?[es]is|nes[ei]|n)|G[en])(?:\b|(?=\d))/gi},{osis:["Exod"],regexp:/(\d|\b)(Ex(?:od[ui]s|od[se]|od|[do]?))(?:\b|(?=\d))/gi},{osis:["Lev"],regexp:/(\d|\b)(L(?:[ei]v[ei]t[ei]?cus|evi|ev|[ev]))(?:\b|(?=\d))/gi},{osis:["Num"],regexp:/(\d|\b)(N(?:umbers?|umb?|[um]))(?:\b|(?=\d))/gi},{osis:["Deut"],
regexp:/(\d|\b)(D(?:eut[eo]?rono?my|ueteronomy|eut?|uet|t))(?:\b|(?=\d))/gi},{osis:["Josh"],regexp:/(\d|\b)(J(?:ou?sh?ua|o?sh|os))(?:\b|(?=\d))/gi},{osis:["Judg"],regexp:/(\d|\b)(J(?:udges|udg|d?gs?))(?:\b|(?=\d))/gi},{osis:["Ruth"],regexp:/(\d|\b)(R(?:uth?|th|u))(?:\b|(?=\d))/gi},{osis:["Isa"],regexp:/(\d|\b)(I(?:saiah|sais?ha?|s[ai]{2,}ha?|s[is]ah|sa[hi]?|sa?|a))(?:\b|(?=\d))/gi},{osis:["2Sam"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"(?:Samu[ae]l[ls]?|Sam|Sma|S[am]?))(?:\\b|(?=\\d))",
"gi")},{osis:["1Sam"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?Samu[ae]l[ls]?|"+e.prototype.regexps.first+"(?:Sam|Sma|S[am]?))(?:\\b|(?=\\d))","gi")},{osis:["2Kgs"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"Ki?n?g?s?)(?:\\b|(?=\\d))","gi")},{osis:["1Kgs"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?K(?:i?ngs|in|gs)|"+e.prototype.regexps.first+"Ki?n?g?s?)(?:\\b|(?=\\d))","gi")},{osis:["2Chr"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"C(?:h?o?ron[io]cles?|hronicals|hro?n?|ron)|2"+
e.prototype.regexps.space+"*Ch)(?:\\b|(?=\\d))","gi")},{osis:["1Chr"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?C(?:h?o?ron[io]cles?|hronicals)|"+e.prototype.regexps.first+"C(?:hro?n?|ron)|1"+e.prototype.regexps.space+"*Ch)(?:\\b|(?=\\d))","gi")},{osis:["Ezra"],regexp:/(\d|\b)(E(?:zra?|sra))(?:\b|(?=\d))/gi},{osis:["Neh"],regexp:/(\d|\b)(N(?:eh[ei]m[ai]{1,3}h|eh?))(?:\b|(?=\d))/gi},{osis:["Esth"],regexp:/(\d|\b)(E(?:sth?er|sth?|s))(?:\b|(?=\d))/gi},{osis:["Job"],regexp:/(\d|\b)(Jo?b)(?:\b|(?=\d))/gi},
{osis:["Ps"],extra:"p",regexp:RegExp("(\\b)((?:(?:(?:1[02-5]|[2-9])?(?:1"+e.prototype.regexps.space+"*st|2"+e.prototype.regexps.space+"*nd|3"+e.prototype.regexps.space+"*rd))|1?1[123]"+e.prototype.regexps.space+"*th|(?:150|1[0-4][04-9]|[1-9][04-9]|[4-9])"+e.prototype.regexps.space+"*th)"+e.prototype.regexps.space+"*Psalm)\\b","gi")},{osis:["Ps"],regexp:/(\d|\b)(P(?:s[alm]{2,4}s?|a[slm]{3,4}s?|l[sam]{2,4}s?|s[as]?m?))(?:\b|(?=\d))/gi},{osis:["Prov"],regexp:/(\d|\b)(P(?:r[eo]?verbs?|robv?erbs|or?verbs|rovebs|ro?v?|rvbs?|v)|Oroverbs)(?:\b|(?=\d))/gi},
{osis:["Eccl"],regexp:/(\d|\b)(E(?:cc?less?[ia]{1,4}s?tes?|cclesiastic?es|ccles|ccl?|cl?))(?:\b|(?=\d))/gi},{osis:["Song"],regexp:RegExp("(\\d|\\b)((?:The"+e.prototype.regexps.space+"*)?Songs?"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*(?:S[ao]lom[ao]ns?|Songs?)|(?:S(?:n?gs?|ongs?|"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*S|o?S|o[ln]?)))(?:\\b|(?=\\d))","gi")},{osis:["Jer"],regexp:/(\d|\b)(Jer(?:emaiah|[ae]maih|[ae]miha|[aei]mi[ai]h|[ei]mi?ah|[ai]mih|[ae]mia|[am][im]ah|emi[he]?|e?)|J[er])(?:\b|(?=\d))/gi},
{osis:["Lam"],regexp:/(\d|\b)(L(?:am[ei]ntations?|am?|m))(?:\b|(?=\d))/gi},{osis:["Ezek"],regexp:/(\d|\b)(E(?:[zx][ei]{1,2}ki?el|zekial|zek|z[ek]))(?:\b|(?=\d))/gi},{osis:["Dan"],regexp:/(\d|\b)(D(?:aniel|a?n|[al]))(?:\b|(?=\d))/gi},{osis:["Hos"],regexp:/(\d|\b)(H(?:osea|o?s|os?))(?:\b|(?=\d))/gi},{osis:["Joel"],regexp:/(\d|\b)(J(?:oel?|l))(?:\b|(?=\d))/gi},{osis:["Amos"],regexp:/(\d|\b)(Amo?s?)(?:\b|(?=\d))/gi},{osis:["Obad"],regexp:/(\d|\b)(O(?:badiah?|bidah|ba?d?))(?:\b|(?=\d))/gi},{osis:["Jonah"],
regexp:/(\d|\b)(J(?:onah|on|nh))(?:\b|(?=\d))/gi},{osis:["Mic"],regexp:/(\d|\b)(M(?:ich?ah?|ic?))(?:\b|(?=\d))/gi},{osis:["Nah"],regexp:/(\d|\b)(N(?:ahum?|ah?))(?:\b|(?=\d))/gi},{osis:["Hab"],regexp:/(\d|\b)(H(?:abb?akk?[au]kk?|abk?))(?:\b|(?=\d))/gi},{osis:["Zeph"],regexp:/(\d|\b)(Z(?:ephana?iah?|e?ph?))(?:\b|(?=\d))/gi},{osis:["Hag"],regexp:/(\d|\b)(H(?:agg?ai|aggia[ih]|a?gg?))(?:\b|(?=\d))/gi},{osis:["Zech"],regexp:/(\d|\b)(Z(?:[ae]ch[ae]r[ai]{1,2}h|ach?|e?ch?))(?:\b|(?=\d))/gi},{osis:["Mal"],
regexp:/(\d|\b)(M(?:alachi?|alichi|alaci|al))(?:\b|(?=\d))/gi},{osis:["Matt"],regexp:RegExp("(\\d|\\b)("+e.prototype.regexps.gospel+"M(?:at[th]{1,3}i?ew|atthwe|a?tt?))(?:\\b|(?=\\d))","gi")},{osis:["Mark"],regexp:RegExp("(\\d|\\b)("+e.prototype.regexps.gospel+"M(?:a?rk?|k))(?:\\b|(?=\\d))","gi")},{osis:["Luke"],regexp:RegExp("(\\d|\\b)("+e.prototype.regexps.gospel+"L(?:uke?|[uk]))(?:\\b|(?=\\d))","gi")},{osis:["1John"],regexp:RegExp("(\\b)("+e.prototype.regexps.first+"J(?:o?phn|[ho][ho]n|onh|ohm|hn|o[hn]?|[hn]))(?:\\b|(?=\\d))",
"gi")},{osis:["2John"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"J(?:o?phn|[ho][ho]n|onh|ohm|hn|o[hn]?|[hn]))(?:\\b|(?=\\d))","gi")},{osis:["3John"],regexp:RegExp("(\\b)("+e.prototype.regexps.third+"J(?:o?phn|[ho][ho]n|onh|ohm|hn|o[hn]?|[hn]))(?:\\b|(?=\\d))","gi")},{osis:["John"],regexp:RegExp("([04-9]|\\b)("+e.prototype.regexps.gospel+"J(?:o?phn|[ho][ho]n|onh|ohm|hn|oh|[hn]))(?:\\b|(?=\\d))","gi")},{osis:["Acts"],regexp:RegExp("(\\d|\\b)(A(?:cts"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+
"*the"+e.prototype.regexps.space+"*Apostles|cts*|ct?))(?:\\b|(?=\\d))","gi")},{osis:["Rom"],regexp:/(\d|\b)(R(?:omans?|pmans|oamns|omands|omasn|om?s?|ms?))(?:\b|(?=\d))/gi},{osis:["2Cor"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"C(?:h?orr?[in]{1,3}th[aio]{1,3}ns|orin[ai]?th[ai]{1,3}n[aio]{0,3}s|orinti[ao]ns|orinthian|orthians?|orint?h?|orth|or?))(?:\\b|(?=\\d))","gi")},{osis:["1Cor"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?C(?:h?orr?[in]{1,3}th[aio]{1,3}ns|orin[ai]?th[ai]{1,3}n[aio]{0,3}s|orinti[ao]ns)|"+
e.prototype.regexps.first+"C(?:orinthian|orthians?|orint?h?|orth|or?))(?:\\b|(?=\\d))","gi")},{osis:["Gal"],regexp:/(\d|\b)(G(?:alatians?|all?at[aino]{1,4}s|alat?|al?|l))(?:\b|(?=\d))/gi},{osis:["Eph"],regexp:/(\d|\b)(E(?:phesians?|phi?sians?|phesains?|sphesians|pehesians|h?pesians|phesiand|phesions|alat?|phe?s?|ph?|hp))(?:\b|(?=\d))/gi},{osis:["Phil"],regexp:/(\d|\b)(P(?:hil{1,}i?p{1,}[aei]{1,3}ns?|hi?li?p{0,2}|hil?|hp))(?:\b|(?=\d))/gi},{osis:["Col"],regexp:/(\d|\b)(C(?:[ao]ll?[ao]ss?i[ao]ns|olossi?ans?|ol?))(?:\b|(?=\d))/gi},
{osis:["2Thess"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"T(?:hess?[aeo]lon[ieaoc]{1,4}ns?|he?s{1,3}|h))(?:\\b|(?=\\d))","gi")},{osis:["1Thess"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?Thess?[aeo]lon[ieaoc]{1,4}ns?|"+e.prototype.regexps.first+"T(?:he?s{1,3}|h))(?:\\b|(?=\\d))","gi")},{osis:["2Tim"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"T(?:imothy?|himoth?y|omothy|imoty|im?|m))(?:\\b|(?=\\d))","gi")},{osis:["1Tim"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+
")?Timothy?|"+e.prototype.regexps.first+"T(?:himoth?y|omothy|imoty|im?|m))(?:\\b|(?=\\d))","gi")},{osis:["Titus"],regexp:/(\d|\b)(T(?:itus|it?))(?:\b|(?=\d))/gi},{osis:["Phlm"],regexp:/(\d|\b)(Ph(?:ilemon|l?mn?|ilem?))(?:\b|(?=\d))/gi},{osis:["Heb"],regexp:/(\d|\b)(H(?:eb[rew]{1,3}s|[ew]{0,2}brew{1,2}s|ebrew|eb))(?:\b|(?=\d))/gi},{osis:["Jas"],regexp:/(\d|\b)(J(?:ames?|a[ms]?|ms?))(?:\b|(?=\d))/gi},{osis:["2Pet"],regexp:RegExp("(\\b)("+e.prototype.regexps.second+"P(?:eter?|e?t?r?))(?:\\b|(?=\\d))",
"gi")},{osis:["1Pet"],regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?Peter|"+e.prototype.regexps.first+"P(?:eter?|e?t?r?))(?:\\b|(?=\\d))","gi")},{osis:["Jude"],regexp:/(\d|\b)(Ju?de)(?:\b|(?=\d))/gi},{osis:["Rev"],regexp:/(\d|\b)(R(?:ev[aeo]?lations?|evel|e?v|e))(?:\b|(?=\d))/gi},{osis:["Ezek","Ezra"],regexp:/(\d|\b)(Ez)(?:\b|(?=\d))/gi},{osis:["Hab","Hag"],regexp:/(\d|\b)(Ha)(?:\b|(?=\d))/gi},{osis:["Heb","Hab"],regexp:/(\d|\b)(Hb)(?:\b|(?=\d))/gi},{osis:["John","Jonah","Job","Joel"],regexp:/(\d|\b)(Jo)(?:\b|(?=\d))/gi},
{osis:["Jude","Judg"],regexp:/(\d|\b)(Jd)(?:\b|(?=\d))/gi},{osis:["Jude","Judg"],regexp:/(\d|\b)(Jud)(?:\b|(?=\d))/gi},{osis:["Jude","Judg"],regexp:/(\d|\b)(Ju)(?:\b|(?=\d))/gi},{osis:["Matt","Mark","Mal"],regexp:/(\d|\b)(Ma)(?:\b|(?=\d))/gi},{osis:["Phil","Phlm"],regexp:/(\d|\b)(Ph)(?:\b|(?=\d))/gi},{osis:["Zeph","Zech"],regexp:/(\d|\b)(Ze)(?:\b|(?=\d))/gi}];e.prototype.regexps.apocrypha=[{osis:["Tob"],apocrypha:true,regexp:/(\d|\b)(Tobi?t?)(?:\b|(?=d))/gi},{osis:["Jdt"],apocrypha:true,regexp:/(\d|\b)(Ju?di?th?)(?:\b|(?=d))/gi},
{osis:["GkEsth"],apocrypha:true,regexp:RegExp("(\\d|\\b)(Greek"+e.prototype.regexps.space+"*Esther|Esther"+e.prototype.regexps.space+"*\\(Greek\\)|G(?:ree)?k"+e.prototype.regexps.space+"*Esth?)(?:\\b|(?=d))","gi")},{osis:["Wis"],apocrypha:true,regexp:RegExp("(\\d|\\b)((?:The"+e.prototype.regexps.space+"*)Wisd?(?:om)?"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*Solomon|Wisdom|Wisd?)(?:\\b|(?=d))","gi")},{osis:["Sir"],apocrypha:true,regexp:RegExp("(\\d|\\b)(Sirach|Sir|Eccl[eu]siasticus|Ecclus|Eccs|(?:The"+
e.prototype.regexps.space+"*)Wisdom"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*Jesus"+e.prototype.regexps.space+"*(?:Son"+e.prototype.regexps.space+"*of|ben)"+e.prototype.regexps.space+"*Sirach)(?:\\b|(?=d))","gi")},{osis:["Bar"],apocrypha:true,regexp:/(\d|\b)(Baruch|Bar)(?:\b|(?=d))/gi},{osis:["PrAzar"],apocrypha:true,regexp:RegExp("(\\d|\\b)((?:The"+e.prototype.regexps.space+"*)?Pr(?:ayers?)?"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*Azariah?|Azariah?|PrAza?r)(?:\\b|(?=d))",
"gi")},{osis:["Sus"],apocrypha:true,regexp:/(\d|\b)(Susannah?|Shoshana|Sus)(?:\b|(?=d))/gi},{osis:["Bel"],apocrypha:true,regexp:RegExp("(\\d|\\b)(Bel"+e.prototype.regexps.space+"*(?:and|&)"+e.prototype.regexps.space+"*(?:the"+e.prototype.regexps.space+"*)?(?:Dragon|Serpent|Snake)|Bel)(?:\\b|(?=d))","gi")},{osis:["SgThree"],apocrypha:true,regexp:RegExp("(\\d|\\b)((?:The"+e.prototype.regexps.space+"*)?Song"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*(?:the"+e.prototype.regexps.space+
"*)?(?:3|Three)"+e.prototype.regexps.space+"*(?:Holy"+e.prototype.regexps.space+"*Children|Young"+e.prototype.regexps.space+"*Men|Youths|Jews)|S\\.?"+e.prototype.regexps.space+"*(?:of)?"+e.prototype.regexps.space+"*(?:Three|Th|3)\\.?"+e.prototype.regexps.space+"*(?:Ch|Y)|So?n?gThree)(?:\\b|(?=d))","gi")},{osis:["EpJer"],apocrypha:true,regexp:RegExp("(\\d|\\b)((?:The"+e.prototype.regexps.space+"*)?(?:Ep(?:istle)?|Let(?:ter))\\.?"+e.prototype.regexps.space+"*of"+e.prototype.regexps.space+"*Jeremiah|EpJer)(?:\\b|(?=d))",
"gi")},{osis:["1Macc"],apocrypha:true,regexp:RegExp("(\\b)((?:"+e.prototype.regexps.first+")?Mac{1,3}ab{1,3}e{1,3}s?|"+e.prototype.regexps.first+"Mac{1,3}|1"+e.prototype.regexps.space+"*Mc)(?:\\b|(?=d))","gi")},{osis:["2Macc"],apocrypha:true,regexp:RegExp("(\\b)("+e.prototype.regexps.second+"Mac{1,3}(?:ab{1,3}e{1,3}s?)?|2"+e.prototype.regexps.space+"*Mc)(?:\\b|(?=d))","gi")},{osis:["3Macc"],apocrypha:true,regexp:RegExp("(\\b)("+e.prototype.regexps.third+"Mac{1,3}(?:ab{1,3}e{1,3}s?)?|3"+e.prototype.regexps.space+
"*Mc)(?:\\b|(?=d))","gi")},{osis:["4Macc"],apocrypha:true,regexp:RegExp("(\\b)((?:4th|4|IV|Fourth)\\.?"+e.prototype.regexps.space+"*Mac{1,3}(?:ab{1,3}e{1,3}s?)?|4"+e.prototype.regexps.space+"*Mc)(?:\\b|(?=d))","gi")},{osis:["1Esd"],apocrypha:true,regexp:RegExp("(\\b)("+e.prototype.regexps.first+"Esdras|1"+e.prototype.regexps.space+"*Esdr?)(?:\\b|(?=d))","gi")},{osis:["2Esd"],apocrypha:true,regexp:RegExp("(\\b)("+e.prototype.regexps.second+"Esdras|2"+e.prototype.regexps.space+"*Esdr?)(?:\\b|(?=d))",
"gi")},{osis:["PrMan"],apocrypha:true,regexp:RegExp("(\\d|\\b)((?:(?:The"+e.prototype.regexps.space+"*)Pr(?:ayers?)?"+e.prototype.regexps.space+"*(?:of"+e.prototype.regexps.space+"*)?M[ae]n{1,2}[ae]s{1,2}[ae]h)|PrMan)(?:\\b|(?=d))","gi")}];var ia=function(){var e={parse:function(d,e){function c(a){var d=a.charCodeAt(0);if(d<=255)var a="x",h=2;else a="u",h=4;var a="\\"+a,f=d.toString(16).toUpperCase(),d=f;h-=f.length;for(f=0;f<h;f++)d="0"+d;return a+d}function b(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,
'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/[\x80-\uFFFF]/g,c)+'"'}function i(d){a<fa||(a>fa&&(fa=a,ja=[]),ja.push(d))}function v(){var b="sequence@"+a,c=q[b];if(c)return a=c.nextPos,c.result;var h=c=a;m.sequence=a;if(""!==null){var f=ca();f===null&&(f=n(),f===null&&(f=j(),f===null&&(f=K(),f===null&&(f=Q(),f===null&&(f=C(),f===null&&(f=E(),f===null&&(f=I(),f===null&&(f=r(),f===null&&(f=R(),f===null&&(f=L(),f===null&&(f=k(),f===null&&(f=M(),f===null&&(f=o(),f===null&&(f=S(),f===null&&
(f=T(),f===null&&(f=N(),f===null&&(f=O(),f=f!==null?f:null)))))))))))))))));if(f!==null){var x=a,p=B();p===null&&(d.substr(a,0)===""?(p="",a+=0):(p=null,l&&i('""')),p=p!==null?p:null);if(p!==null){var e=ca();e===null&&(e=n(),e===null&&(e=j(),e===null&&(e=K(),e===null&&(e=Q(),e===null&&(e=C(),e===null&&(e=E(),e===null&&(e=I(),e===null&&(e=r(),e===null&&(e=R(),e===null&&(e=L(),e===null&&(e=k(),e===null&&(e=M(),e===null&&(e=o(),e===null&&(e=S(),e===null&&(e=T(),e===null&&(e=N(),e===null&&(e=O(),e===
null&&(e=Z(),e===null&&(e=$(),e===null&&(e=U(),e===null&&(e=V(),e===null&&(e=F(),e===null&&(e=G(),e===null&&(e=A(),e===null&&(e=y(),e=e!==null?e:null)))))))))))))))))))))))));e!==null?p=[p,e]:(p=null,a=x)}else p=null,a=x;if(p!==null)for(var g=[];p!==null;)g.push(p),x=a,p=B(),p===null&&(d.substr(a,0)===""?(p="",a+=0):(p=null,l&&i('""')),p=p!==null?p:null),p!==null?(e=ca(),e===null&&(e=n(),e===null&&(e=j(),e===null&&(e=K(),e===null&&(e=Q(),e===null&&(e=C(),e===null&&(e=E(),e===null&&(e=I(),e===null&&
(e=r(),e===null&&(e=R(),e===null&&(e=L(),e===null&&(e=k(),e===null&&(e=M(),e===null&&(e=o(),e===null&&(e=S(),e===null&&(e=T(),e===null&&(e=N(),e===null&&(e=O(),e===null&&(e=Z(),e===null&&(e=$(),e===null&&(e=U(),e===null&&(e=V(),e===null&&(e=F(),e===null&&(e=G(),e===null&&(e=A(),e===null&&(e=y(),e=e!==null?e:null))))))))))))))))))))))))),e!==null?p=[p,e]:(p=null,a=x)):(p=null,a=x);else g=null;g!==null?f=["",f,g]:(f=null,a=h)}else f=null,a=h}else f=null,a=h;f!==null?(h=f[2],h.unshift([f[1]]),h={type:"sequence",
value:h,indices:[m.sequence,a-1]}):h=null;h===null&&(h=null,a=c);q[b]={nextPos:a,result:h};return h}function j(){var d="range@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.range=a;if(""!==null){var f=K();f===null&&(f=Q(),f===null&&(f=C(),f===null&&(f=E(),f===null&&(f=I(),f===null&&(f=r(),f===null&&(f=R(),f===null&&(f=L(),f===null&&(f=S(),f===null&&(f=T(),f===null&&(f=M(),f===null&&(f=N(),f===null&&(f=O(),f===null&&(f=Z(),f===null&&(f=$(),f===null&&(f=U(),f===null&&(f=V(),f===null&&(f=F(),
f===null&&(f=G(),f===null&&(f=A(),f===null&&(f=y(),f=f!==null?f:null))))))))))))))))))));if(f!==null){var x=W();if(x!==null){var p=K();p===null&&(p=Q(),p===null&&(p=C(),p===null&&(p=E(),p===null&&(p=I(),p===null&&(p=r(),p===null&&(p=R(),p===null&&(p=L(),p===null&&(p=S(),p===null&&(p=T(),p===null&&(p=M(),p===null&&(p=N(),p===null&&(p=O(),p===null&&(p=Z(),p===null&&(p=$(),p===null&&(p=U(),p===null&&(p=F(),p===null&&(p=G(),p===null&&(p=V(),p===null&&(p=A(),p===null&&(p=y(),p=p!==null?p:null))))))))))))))))))));
p!==null?f=["",f,x,p]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"range",value:[f[1],f[3]],indices:[m.range,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function k(){var d="b_range@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.b_range=a;if(""!==null){var f=o();if(f!==null){var x=W();if(x!==null){var p=a,b=l;l=false;var c=j();c===null&&(c=K(),c===null&&(c=E(),c===null&&(c=I(),c===null&&(c=r(),c===null&&(c=L(),c=c!==null?c:null)))));
l=b;c===null?b="":(b=null,a=p);b!==null?(p=o(),p!==null?f=["",f,x,b,p]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"b_range",value:[f[1],f[4]],indices:[m.b_range,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function n(){var e="bcv_hyphen_range@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a;m.bcv_hyphen_range=a;if(""!==null){var f=o();if(f!==null){if(d.substr(a,1)==="-"){var x="-";a+=1}else x=null,l&&i('"-"');x===null&&
(x=da(),x=x!==null?x:null);x=x!==null?x:"";if(x!==null){var b=A();if(b!==null){if(d.substr(a,1)==="-"){var g="-";a+=1}else g=null,l&&i('"-"');if(g!==null){var w=y();if(w!==null){if(d.substr(a,1)==="-"){var j="-";a+=1}else j=null,l&&i('"-"');if(j!==null){var u=y();u!==null?f=["",f,x,b,g,w,j,u]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"range",value:[{type:"bcv",value:[{type:"bc",value:[f[1],f[3]],indices:[f[1].indices[0],
f[3].indices[1]]},f[5]],indices:[f[1].indices[0],f[5].indices[1]]},f[7]],indices:[m.bcv_hyphen_range,a-1]}:null;h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function o(){var e="b@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a;m.b=a;if(""!==null){if(d.substr(a,1)==="\u001f"){var f="\u001f";a+=1}else f=null,l&&i('"\u001f"');if(f!==null){var x=ka();if(x!==null){var b=a;if(d.substr(a,1)==="/"){var g="/";a+=1}else g=null,l&&i('"/"');if(g!==null){if(d.substr(a).match(/^[a-z]/)!==null){var w=
d.charAt(a);a++}else w=null,l&&i("[a-z]");w!==null?g=[g,w]:(g=null,a=b)}else g=null,a=b;b=g!==null?g:"";b!==null?(d.substr(a,1)==="\u001f"?(g="\u001f",a+=1):(g=null,l&&i('"\u001f"')),g!==null?f=["",f,x,b,g]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"b",value:f[2].value,indices:[m.b,a-1]}:null;h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function r(){var d="bc@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.bc=a;if(""!==null){var f=
o();if(f!==null){var c=a,b=H();if(b!==null){var i=a,g=l;l=false;var j=a,u=A();if(u!==null){var k=D();if(k!==null){var n=y();n!==null?u=[u,k,n]:(u=null,a=j)}else u=null,a=j}else u=null,a=j;l=g;u!==null?(g="",a=i):g=null;g!==null?b=[b,g]:(b=null,a=c)}else b=null,a=c;if(b!==null)c=b;else{c=D();if(c!==null)for(b=[];c!==null;)b.push(c),c=D();else b=null;if(b!==null)c=b;else{c=aa();if(c!==null)for(b=[];c!==null;)b.push(c),c=aa();else b=null;if(b!==null)c=b;else{c=W();if(c!==null)for(b=[];c!==null;)b.push(c),
c=W();else b=null;b!==null?c=b:(c=t(),c=c!==null?c:null)}}}c!==null?(b=A(),b!==null?f=["",f,c,b]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bc",value:[f[1],f[3]],indices:[m.bc,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function z(){var e="bc_comma@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a;m.bc_comma=a;if(""!==null){var f=o();if(f!==null){var b=t();if(b!==null){if(d.substr(a,1)===","){var p=",";a+=1}else p=null,l&&i('","');if(p!==
null){var g=t();if(g!==null){var w=A();w!==null?f=["",f,b,p,g,w]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bc",value:[f[1],f[5]],indices:[m.bc_comma,a-1]}:null;h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function C(){var d="bc_title@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.bc_title=a;if(""!==null){var f=r();if(f!==null){var c=J();c!==null?f=["",f,c]:(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==
null?{type:"bc_title",value:[f[1],f[2]],indices:[m.bc_title,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function E(){var e="bcv@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a;m.bcv=a;if(""!==null){var f=r();if(f!==null){var b=a,p=l;l=false;var g=a;if(d.substr(a,1)==="."){var w=".";a+=1}else w=null,l&&i('"."');if(w!==null){var j=H();if(j!==null){var k=y();k!==null?w=[w,j,k]:(w=null,a=g)}else w=null,a=g}else w=null,a=g;l=p;w===null?p="":(p=null,a=b);p!==null?(b=a,g=D(),
g===null&&(g=B(),g=g!==null?g:null),g=g!==null?g:"",g!==null?(w=H(),w!==null?g=[g,w]:(g=null,a=b)):(g=null,a=b),g!==null?b=g:(b=D(),b=b!==null?b:null),b!==null?(g=F(),g===null&&(g=y(),g=g!==null?g:null),g!==null?f=["",f,p,b,g]:(f=null,a=h)):(f=null,a=h)):(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bcv",value:[f[1],f[4]],indices:[m.bcv,a-1]}:null;h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function I(){var d="bcv_weak@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=
e=a;m.bcv_weak=a;if(""!==null){var f=r();if(f!==null){var c=aa();if(c!==null){var b=F();b===null&&(b=y(),b=b!==null?b:null);if(b!==null){var i=a,g=l;l=false;var j=a,k=D();if(k!==null){var o=y();o!==null?k=[k,o]:(k=null,a=j)}else k=null,a=j;l=g;k===null?g="":(g=null,a=i);g!==null?f=["",f,c,b,g]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bcv",value:[f[1],f[3]],indices:[m.bcv_weak,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}
function Q(){var e="bcv_comma@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a;m.bcv_comma=a;if(""!==null){var f=z();if(f!==null){var b=t();if(b!==null){if(d.substr(a,1)===","){var p=",";a+=1}else p=null,l&&i('","');if(p!==null){var g=t();if(g!==null){var w=F();w===null&&(w=y(),w=w!==null?w:null);if(w!==null){var j=a,k=l;l=false;var o=a,n=D();if(n!==null){var r=y();r!==null?n=[n,r]:(n=null,a=o)}else n=null,a=o;l=k;n===null?k="":(k=null,a=j);k!==null?f=["",f,b,p,g,w,k]:(f=null,a=h)}else f=null,
a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bcv",value:[f[1],f[5]],indices:[m.bcv_comma,a-1]}:null;h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function L(){var d="bv@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.bv=a;if(""!==null){var f=o();if(f!==null){var c=D();if(c!==null)for(var b=[];c!==null;)b.push(c),c=D();else b=null;if(b!==null)c=b;else{c=aa();if(c!==null)for(b=[];c!==null;)b.push(c),c=aa();else b=null;if(b!==
null)c=b;else{c=W();if(c!==null)for(b=[];c!==null;)b.push(c),c=W();else b=null;if(b!==null)c=b;else{var c=a,i=B();if(i!==null)for(b=[];i!==null;)b.push(i),i=B();else b=null;if(b!==null){var i=a,g=l;l=false;var j=H();l=g;j!==null?(g="",a=i):g=null;g!==null?b=[b,g]:(b=null,a=c)}else b=null,a=c;b!==null?c=b:(c=t(),c=c!==null?c:null)}}}c!==null?(b=F(),b===null&&(b=y(),b=b!==null?b:null),b!==null?f=["",f,c,b]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bv",value:[f[1],
f[3]],indices:[m.bv,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function N(){var d="cb@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.cb=a;if(""!==null){var f=ea();if(f!==null){var c=A();if(c!==null){var b=ha(),b=b!==null?b:"";if(b!==null){var i=o();i!==null?f=["",f,c,b,i]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bc",value:[f[4],f[2]],indices:[m.cb,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}
function ca(){var d="cb_range@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.cb_range=a;if(""!==null){var f=ea();if(f!==null){var c=A();if(c!==null){var b=W();if(b!==null){var i=A();if(i!==null){var g=ha(),g=g!==null?g:"";if(g!==null){var l=o();l!==null?f=["",f,c,b,i,g,l]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"cb_range",value:[f[6],f[2],f[4]],indices:[m.cb_range,a-1]}:null;h===null&&(h=null,a=e);q[d]=
{nextPos:a,result:h};return h}function S(){var d="cbv@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.cbv=a;if(""!==null){var f=N();if(f!==null){var c=B(),c=c!==null?c:"";if(c!==null){var b=H();if(b!==null){var i=y();i!==null?f=["",f,c,b,i]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bcv",value:[f[1],f[4]],indices:[m.cbv,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function O(){var e="cb_ordinal@"+a,c=q[e];if(c)return a=
c.nextPos,c.result;var h=c=a;m.cb_ordinal=a;if(""!==null){var f=A();if(f!==null){if(d.substr(a,2)==="th"){var b="th";a+=2}else b=null,l&&i('"th"');b===null&&(d.substr(a,2)==="nd"?(b="nd",a+=2):(b=null,l&&i('"nd"')),b===null&&(d.substr(a,2)==="st"?(b="st",a+=2):(b=null,l&&i('"st"')),b=b!==null?b:null));if(b!==null){var g=ea();if(g!==null){var s=ha(),s=s!==null?s:"";if(s!==null){var j=o();j!==null?f=["",f,b,g,s,j]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,
a=h;h=f!==null?{type:"bc",value:[f[5],f[1]],indices:[m.cb_ordinal,a-1]}:null;h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function T(){var d="cbv_ordinal@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.cbv_ordinal=a;if(""!==null){var f=O();if(f!==null){var b=B(),b=b!==null?b:"";if(b!==null){var c=H();if(c!==null){var i=y();i!==null?f=["",f,b,c,i]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"bcv",value:[f[1],f[4]],indices:[m.cbv_ordinal,
a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function M(){var e="c_psalm@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var h=b=a;m.c_psalm=a;if(""!==null){if(d.substr(a,1)==="\u001f"){var f="\u001f";a+=1}else f=null,l&&i('"\u001f"');if(f!==null){var c=G();if(c!==null){if(d.substr(a,3)==="/p\u001f"){var g="/p\u001f";a+=3}else g=null,l&&i('"/p\u001f"');g!==null?f=["",f,c,g]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"c_psalm",value:f[2].value,
indices:[m.c_psalm,a-1]}:null;h===null&&(h=null,a=b);q[e]={nextPos:a,result:h};return h}function R(){var d="cv_psalm@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.cv_psalm=a;if(""!==null){var f=M();if(f!==null){var b=B(),b=b!==null?b:"";if(b!==null){var c=H();if(c!==null){var i=y();i!==null?f=["",f,b,c,i]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"cv_psalm",value:[f[1],f[4]],indices:[m.cv_psalm,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,
result:h};return h}function Z(){var d="c_title@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.c_title=a;if(""!==null){var f=ea();if(f!==null){var b=A();if(b!==null){var c=J();c!==null?f=["",f,b,c]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"c_title",value:[f[2],f[3]],indices:[m.c_title,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function U(){var e="cv@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var h=b=a;m.cv=a;if(""!==null){var f=
A();if(f!==null){var c=a,g=l;l=false;var s=a;if(d.substr(a,1)==="."){var j=".";a+=1}else j=null,l&&i('"."');if(j!==null){var k=H();if(k!==null){var u=y();u!==null?j=[j,k,u]:(j=null,a=s)}else j=null,a=s}else j=null,a=s;l=g;j===null?g="":(g=null,a=c);g!==null?(c=a,s=D(),s=s!==null?s:"",s!==null?(j=H(),j!==null?s=[s,j]:(s=null,a=c)):(s=null,a=c),s!==null?c=s:(c=D(),c=c!==null?c:null),c!==null?(s=F(),s===null&&(s=y(),s=s!==null?s:null),s!==null?f=["",f,g,c,s]:(f=null,a=h)):(f=null,a=h)):(f=null,a=h)}else f=
null,a=h}else f=null,a=h;h=f!==null?{type:"cv",value:[f[1],f[4]],indices:[m.cv,a-1]}:null;h===null&&(h=null,a=b);q[e]={nextPos:a,result:h};return h}function V(){var d="cv_weak@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.cv_weak=a;if(""!==null){var f=A();if(f!==null){var b=aa();if(b!==null){var c=F();c===null&&(c=y(),c=c!==null?c:null);if(c!==null){var i=a,g=l;l=false;var j=a,k=D();if(k!==null){var o=y();o!==null?k=[k,o]:(k=null,a=j)}else k=null,a=j;l=g;k===null?g="":(g=null,a=i);g!==null?
f=["",f,b,c,g]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"cv",value:[f[1],f[3]],indices:[m.cv_weak,a-1]}:null;h===null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function A(){var d="c@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.c=a;if(""!==null){var f=ea(),f=f!==null?f:"";if(f!==null){var c=G();c!==null?f=["",f,c]:(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"c",value:[f[2]],indices:[m.c,a-1]}:null;h===null&&(h=
null,a=e);q[d]={nextPos:a,result:h};return h}function $(){var e="integer_title@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a;m.integer_title=a;if(""!==null){var f=G();if(f!==null){var b=D();b===null&&(b=B(),b=b!==null?b:null);b=b!==null?b:"";if(b!==null){if(d.substr(a,5)==="title"){var g="title";a+=5}else g=null,l&&i('"title"');g!==null?f=["",f,b,g]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"integer_title",value:[f[1]],indices:[m.integer_title,a-1]}:null;
h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function F(){var e="v_letter@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var h=b=a;m.v_letter=a;if(""!==null){var f=H(),f=f!==null?f:"";if(f!==null){var c=G();if(c!==null){var g=t();if(g!==null){if(d.substr(a).match(/^[a-e]/)!==null){var s=d.charAt(a);a++}else s=null,l&&i("[a-e]");if(s!==null){var j=a,k=l;l=false;if(d.substr(a).match(/^[a-z]/)!==null){var u=d.charAt(a);a++}else u=null,l&&i("[a-z]");l=k;u===null?k="":(k=null,a=j);k!==null?f=
["",f,c,g,s,k]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"v",value:[f[2]],indices:[m.v_letter,a-1]}:null;h===null&&(h=null,a=b);q[e]={nextPos:a,result:h};return h}function y(){var d="v@"+a,e=q[d];if(e)return a=e.nextPos,e.result;var h=e=a;m.v=a;if(""!==null){var f=H(),f=f!==null?f:"";if(f!==null){var b=G();b!==null?f=["",f,b]:(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"v",value:[f[2]],indices:[m.v,a-1]}:null;h===
null&&(h=null,a=e);q[d]={nextPos:a,result:h};return h}function K(){var e="ff@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var h=b=a;m.ff=a;if(""!==null){var f=E();f===null&&(f=I(),f===null&&(f=r(),f===null&&(f=U(),f===null&&(f=V(),f===null&&(f=G(),f===null&&(f=A(),f===null&&(f=y(),f=f!==null?f:null)))))));if(f!==null){var c=t();if(c!==null){if(d.substr(a,1)==="f"){var g="f";a+=1}else g=null,l&&i('"f"');if(g!==null){if(d.substr(a,1)==="f"){var s="f";a+=1}else s=null,l&&i('"f"');s=s!==null?s:"";if(s!==
null){var j=P(),j=j!==null?j:"";if(j!==null){var k=a,u=l;l=false;if(d.substr(a).match(/^[A-Za-z]/)!==null){var o=d.charAt(a);a++}else o=null,l&&i("[A-Za-z]");l=u;o===null?u="":(u=null,a=k);u!==null?f=["",f,c,g,s,j,u]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"ff",value:[f[1]],indices:[m.ff,a-1]}:null;h===null&&(h=null,a=b);q[e]={nextPos:a,result:h};return h}function ea(){var e="c_explicit@"+a,b=q[e];if(b)return a=
b.nextPos,b.result;var h=b=a,f=t();if(f!==null){var c=a;if(d.substr(a,7)==="chapter"){var g="chapter";a+=7}else g=null,l&&i('"chapter"');if(g!==null){if(d.substr(a,1)==="s"){var s="s";a+=1}else s=null,l&&i('"s"');s=s!==null?s:"";s!==null?g=[g,s]:(g=null,a=c)}else g=null,a=c;if(g!==null)c=g;else{c=a;d.substr(a,2)==="ch"?(g="ch",a+=2):(g=null,l&&i('"ch"'));if(g!==null)if(d.substr(a,1)==="a"?(s="a",a+=1):(s=null,l&&i('"a"')),s=s!==null?s:"",s!==null){if(d.substr(a,2)==="pt"){var j="pt";a+=2}else j=null,
l&&i('"pt"');if(j!==null){if(d.substr(a,1)==="s"){var k="s";a+=1}else k=null,l&&i('"s"');k=k!==null?k:"";if(k!==null){var u=P(),u=u!==null?u:"";u!==null?g=[g,s,j,k,u]:(g=null,a=c)}else g=null,a=c}else g=null,a=c}else g=null,a=c;else g=null,a=c;g!==null?c=g:(c=a,d.substr(a,2)==="ch"?(g="ch",a+=2):(g=null,l&&i('"ch"')),g!==null?(d.substr(a,1)==="a"?(s="a",a+=1):(s=null,l&&i('"a"')),s=s!==null?s:"",s!==null?(d.substr(a,1)==="p"?(j="p",a+=1):(j=null,l&&i('"p"')),j=j!==null?j:"",j!==null?(d.substr(a,1)===
"s"?(k="s",a+=1):(k=null,l&&i('"s"')),k=k!==null?k:"",k!==null?(u=P(),u=u!==null?u:"",u!==null?g=[g,s,j,k,u]:(g=null,a=c)):(g=null,a=c)):(g=null,a=c)):(g=null,a=c)):(g=null,a=c),c=g!==null?g:null)}c!==null?(g=t(),g!==null?f=[f,c,g]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h;h=f!==null?{type:"c_explicit"}:null;h===null&&(h=null,a=b);q[e]={nextPos:a,result:h};return h}function H(){var e="v_explicit@"+a,c=q[e];if(c)return a=c.nextPos,c.result;var h=c=a,f=t();if(f!==null){var b=a;if(d.substr(a,5)==="verse"){var g=
"verse";a+=5}else g=null,l&&i('"verse"');if(g!==null){if(d.substr(a,1)==="s"){var j="s";a+=1}else j=null,l&&i('"s"');j=j!==null?j:"";j!==null?g=[g,j]:(g=null,a=b)}else g=null,a=b;if(g!==null)b=g;else if(b=a,d.substr(a,2)==="vv"?(g="vv",a+=2):(g=null,l&&i('"vv"')),g!==null?(j=P(),j=j!==null?j:"",j!==null?g=[g,j]:(g=null,a=b)):(g=null,a=b),g!==null)b=g;else if(b=a,d.substr(a,3)==="ver"?(g="ver",a+=3):(g=null,l&&i('"ver"')),g!==null?(j=P(),j=j!==null?j:"",j!==null?g=[g,j]:(g=null,a=b)):(g=null,a=b),
g!==null)b=g;else{b=a;d.substr(a,1)==="v"?(g="v",a+=1):(g=null,l&&i('"v"'));if(g!==null)if(d.substr(a,1)==="s"?(j="s",a+=1):(j=null,l&&i('"s"')),j=j!==null?j:"",j!==null){if(d.substr(a,1)==="s"){var k="s";a+=1}else k=null,l&&i('"s"');k=k!==null?k:"";if(k!==null){var m=P(),m=m!==null?m:"";m!==null?g=[g,j,k,m]:(g=null,a=b)}else g=null,a=b}else g=null,a=b;else g=null,a=b;b=g!==null?g:null}b!==null?(g=t(),g!==null?f=[f,b,g]:(f=null,a=h)):(f=null,a=h)}else f=null,a=h;h=f!==null?{type:"v_explicit"}:null;
h===null&&(h=null,a=c);q[e]={nextPos:a,result:h};return h}function D(){var e="cv_sep@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var b=a,h=t();if(h!==null){if(d.substr(a,1)===":"){var f=":";a+=1}else f=null,l&&i('":"');if(f!==null)for(var c=[];f!==null;)c.push(f),d.substr(a,1)===":"?(f=":",a+=1):(f=null,l&&i('":"'));else c=null;if(c!==null)f=c;else{f=a;d.substr(a,1)==="."?(c=".",a+=1):(c=null,l&&i('"."'));if(c!==null){var g=a,j=l;l=false;var k=a,m=t();if(m!==null){if(d.substr(a,1)==="."){var u=".";
a+=1}else u=null,l&&i('"."');if(u!==null){var o=t();if(o!==null){if(d.substr(a,1)==="."){var n=".";a+=1}else n=null,l&&i('"."');n!==null?m=[m,u,o,n]:(m=null,a=k)}else m=null,a=k}else m=null,a=k}else m=null,a=k;l=j;m===null?j="":(j=null,a=g);j!==null?c=[c,j]:(c=null,a=f)}else c=null,a=f;f=c!==null?c:null}f!==null?(c=t(),c!==null?h=[h,f,c]:(h=null,a=b)):(h=null,a=b)}else h=null,a=b;q[e]={nextPos:a,result:h};return h}function aa(){var e="cv_sep_weak@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var b=
a,h=t();if(h!==null){if(d.substr(a).match(/^["']/)!==null){var f=d.charAt(a);a++}else f=null,l&&i("[\"']");if(f!==null){var c=t();c!==null?h=[h,f,c]:(h=null,a=b)}else h=null,a=b}else h=null,a=b;h!==null?b=h:(b=da(),b=b!==null?b:null);q[e]={nextPos:a,result:b};return b}function B(){var e="sequence_sep@"+a,b=q[e];if(b)return a=b.nextPos,b.result;b=a;if(d.substr(a).match(/^[,;\/:\-\u2013\u2014~]/)!==null){var h=d.charAt(a);a++}else h=null,l&&i("[,;\\/:\\-\\u2013\\u2014~]");if(h===null){h=a;if(d.substr(a,
1)==="."){var f=".";a+=1}else f=null,l&&i('"."');if(f!==null){var c=a,g=l;l=false;var j=a,k=t();if(k!==null){if(d.substr(a,1)==="."){var m=".";a+=1}else m=null,l&&i('"."');if(m!==null){var u=t();if(u!==null){if(d.substr(a,1)==="."){var o=".";a+=1}else o=null,l&&i('"."');o!==null?k=[k,m,u,o]:(k=null,a=j)}else k=null,a=j}else k=null,a=j}else k=null,a=j;l=g;k===null?g="":(g=null,a=c);g!==null?f=[f,g]:(f=null,a=h)}else f=null,a=h;f!==null?h=f:(d.substr(a,3)==="see"?(h="see",a+=3):(h=null,l&&i('"see"')),
h===null&&(d.substr(a,7)==="compare"?(h="compare",a+=7):(h=null,l&&i('"compare"')),h===null&&(h=a,d.substr(a,2)==="cf"?(f="cf",a+=2):(f=null,l&&i('"cf"')),f!==null?(c=P(),c=c!==null?c:"",c!==null?f=[f,c]:(f=null,a=h)):(f=null,a=h),f!==null?h=f:(d.substr(a,3)==="and"?(h="and",a+=3):(h=null,l&&i('"and"')),h===null&&(d.substr(a,4)==="also"?(h="also",a+=4):(h=null,l&&i('"also"')),h===null&&(d.substr(a,1)==="&"?(h="&",a+=1):(h=null,l&&i('"&"')),h===null&&(h=da(),h=h!==null?h:null)))))))}if(h!==null)for(var n=
[];h!==null;)n.push(h),d.substr(a).match(/^[,;\/:\-\u2013\u2014~]/)!==null?(h=d.charAt(a),a++):(h=null,l&&i("[,;\\/:\\-\\u2013\\u2014~]")),h===null&&(h=a,d.substr(a,1)==="."?(f=".",a+=1):(f=null,l&&i('"."')),f!==null?(c=a,g=l,l=false,j=a,k=t(),k!==null?(d.substr(a,1)==="."?(m=".",a+=1):(m=null,l&&i('"."')),m!==null?(u=t(),u!==null?(d.substr(a,1)==="."?(o=".",a+=1):(o=null,l&&i('"."')),o!==null?k=[k,m,u,o]:(k=null,a=j)):(k=null,a=j)):(k=null,a=j)):(k=null,a=j),l=g,k===null?g="":(g=null,a=c),g!==null?
f=[f,g]:(f=null,a=h)):(f=null,a=h),f!==null?h=f:(d.substr(a,3)==="see"?(h="see",a+=3):(h=null,l&&i('"see"')),h===null&&(d.substr(a,7)==="compare"?(h="compare",a+=7):(h=null,l&&i('"compare"')),h===null&&(h=a,d.substr(a,2)==="cf"?(f="cf",a+=2):(f=null,l&&i('"cf"')),f!==null?(c=P(),c=c!==null?c:"",c!==null?f=[f,c]:(f=null,a=h)):(f=null,a=h),f!==null?h=f:(d.substr(a,3)==="and"?(h="and",a+=3):(h=null,l&&i('"and"')),h===null&&(d.substr(a,4)==="also"?(h="also",a+=4):(h=null,l&&i('"also"')),h===null&&(d.substr(a,
1)==="&"?(h="&",a+=1):(h=null,l&&i('"&"')),h===null&&(h=da(),h=h!==null?h:null))))))));else n=null;n=n!==null?"":null;n===null&&(n=null,a=b);q[e]={nextPos:a,result:n};return n}function W(){var e="range_sep@"+a,b=q[e];if(b)return a=b.nextPos,b.result;var b=a,h=t();if(h!==null){var f=a;if(d.substr(a).match(/^[\-\u2013\u2014]/)!==null){var c=d.charAt(a);a++}else c=null,l&&i("[\\-\\u2013\\u2014]");if(c!==null){var g=t();g!==null?c=[c,g]:(c=null,a=f)}else c=null,a=f;c!==null?f=c:(f=a,d.substr(a,7)==="through"?
(c="through",a+=7):(c=null,l&&i('"through"')),c!==null?(g=t(),g!==null?c=[c,g]:(c=null,a=f)):(c=null,a=f),c!==null?f=c:(f=a,d.substr(a,4)==="thru"?(c="thru",a+=4):(c=null,l&&i('"thru"')),c!==null?(g=t(),g!==null?c=[c,g]:(c=null,a=f)):(c=null,a=f),c!==null?f=c:(f=a,d.substr(a,2)==="to"?(c="to",a+=2):(c=null,l&&i('"to"')),c!==null?(g=t(),g!==null?c=[c,g]:(c=null,a=f)):(c=null,a=f),f=c!==null?c:null)));if(f!==null)for(var j=[];f!==null;)j.push(f),f=a,d.substr(a).match(/^[\-\u2013\u2014]/)!==null?(c=
d.charAt(a),a++):(c=null,l&&i("[\\-\\u2013\\u2014]")),c!==null?(g=t(),g!==null?c=[c,g]:(c=null,a=f)):(c=null,a=f),c!==null?f=c:(f=a,d.substr(a,7)==="through"?(c="through",a+=7):(c=null,l&&i('"through"')),c!==null?(g=t(),g!==null?c=[c,g]:(c=null,a=f)):(c=null,a=f),c!==null?f=c:(f=a,d.substr(a,4)==="thru"?(c="thru",a+=4):(c=null,l&&i('"thru"')),c!==null?(g=t(),g!==null?c=[c,g]:(c=null,a=f)):(c=null,a=f),c!==null?f=c:(f=a,d.substr(a,2)==="to"?(c="to",a+=2):(c=null,l&&i('"to"')),c!==null?(g=t(),g!==null?
c=[c,g]:(c=null,a=f)):(c=null,a=f),f=c!==null?c:null)));else j=null;j!==null?h=[h,j]:(h=null,a=b)}else h=null,a=b;q[e]={nextPos:a,result:h};return h}function J(){var c="title@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var h=b=a;m.title=a;if(""!==null){var f=D();f===null&&(f=B(),f=f!==null?f:null);f=f!==null?f:"";if(f!==null){if(d.substr(a,5)==="title"){var e="title";a+=5}else e=null,l&&i('"title"');e!==null?f=["",f,e]:(f=null,a=h)}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"title",value:[f[2]],
indices:[m.title,a-1]}:null;h===null&&(h=null,a=b);q[c]={nextPos:a,result:h};return h}function ha(){var c="in_book_of@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var b=a,h=t();if(h!==null){if(d.substr(a,4)==="from"){var f="from";a+=4}else f=null,l&&i('"from"');f===null&&(d.substr(a,2)==="of"?(f="of",a+=2):(f=null,l&&i('"of"')),f===null&&(d.substr(a,2)==="in"?(f="in",a+=2):(f=null,l&&i('"in"')),f=f!==null?f:null));if(f!==null){var e=t();if(e!==null){var g=a;if(d.substr(a,3)==="the"){var j="the";a+=
3}else j=null,l&&i('"the"');if(j!==null){var k=t();if(k!==null){if(d.substr(a,4)==="book"){var m="book";a+=4}else m=null,l&&i('"book"');if(m!==null){var o=t();if(o!==null){if(d.substr(a,2)==="of"){var n="of";a+=2}else n=null,l&&i('"of"');if(n!==null){var r=t();r!==null?j=[j,k,m,o,n,r]:(j=null,a=g)}else j=null,a=g}else j=null,a=g}else j=null,a=g}else j=null,a=g}else j=null,a=g;g=j!==null?j:"";g!==null?h=[h,f,e,g]:(h=null,a=b)}else h=null,a=b}else h=null,a=b}else h=null,a=b;q[c]={nextPos:a,result:h};
return h}function P(){var c="abbrev@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var b=a,h=t();if(h!==null){if(d.substr(a,1)==="."){var f=".";a+=1}else f=null,l&&i('"."');if(f!==null){var e=a,g=l;l=false;var j=a,k=t();if(k!==null){if(d.substr(a,1)==="."){var m=".";a+=1}else m=null,l&&i('"."');if(m!==null){var o=t();if(o!==null){if(d.substr(a,1)==="."){var n=".";a+=1}else n=null,l&&i('"."');n!==null?k=[k,m,o,n]:(k=null,a=j)}else k=null,a=j}else k=null,a=j}else k=null,a=j;l=g;k===null?g="":(g=null,a=
e);g!==null?h=[h,f,g]:(h=null,a=b)}else h=null,a=b}else h=null,a=b;q[c]={nextPos:a,result:h};return h}function Y(){var c="translation_sequence_enclosed@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var h=b=a;m.translation_sequence_enclosed=a;if(""!==null){var f=t();if(f!==null){if(d.substr(a).match(/^[([]/)!==null){var e=d.charAt(a);a++}else e=null,l&&i("[([]");if(e!==null){var g=t();if(g!==null){var j=a,k=ba();if(k!==null){var o=[],n=a,r=B();if(r!==null){var v=ba();v!==null?r=[r,v]:(r=null,a=n)}else r=
null,a=n;for(;r!==null;)o.push(r),n=a,r=B(),r!==null?(v=ba(),v!==null?r=[r,v]:(r=null,a=n)):(r=null,a=n);o!==null?k=[k,o]:(k=null,a=j)}else k=null,a=j;k!==null?(j=t(),j!==null?(d.substr(a).match(/^[)\]]/)!==null?(o=d.charAt(a),a++):(o=null,l&&i("[)\\]]")),o!==null?f=["",f,e,g,k,j,o]:(f=null,a=h)):(f=null,a=h)):(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"translation_sequence",value:f[4],indices:[m.translation_sequence_enclosed,a-1]}:null;h===null&&
(h=null,a=b);q[c]={nextPos:a,result:h};return h}function la(){var c="translation_sequence@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var h=b=a;m.translation_sequence=a;if(""!==null){var f=t();if(f!==null){var e=a;if(d.substr(a,1)===","){var g=",";a+=1}else g=null,l&&i('","');if(g!==null){var j=t();j!==null?g=[g,j]:(g=null,a=e)}else g=null,a=e;e=g!==null?g:"";if(e!==null){g=a;j=ba();if(j!==null){var k=[],o=a,n=B();if(n!==null){var r=ba();r!==null?n=[n,r]:(n=null,a=o)}else n=null,a=o;for(;n!==null;)k.push(n),
o=a,n=B(),n!==null?(r=ba(),r!==null?n=[n,r]:(n=null,a=o)):(n=null,a=o);k!==null?j=[j,k]:(j=null,a=g)}else j=null,a=g;j!==null?f=["",f,e,j]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"translation_sequence",value:f[3],indices:[m.translation_sequence,a-1]}:null;h===null&&(h=null,a=b);q[c]={nextPos:a,result:h};return h}function ba(){var c="translation@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var h=b=a;m.translation=a;if(""!==null){if(d.substr(a,1)==="\u001e"){var f=
"\u001e";a+=1}else f=null,l&&i('"\u001e"');if(f!==null){var e=ka();if(e!==null){if(d.substr(a,1)==="\u001e"){var g="\u001e";a+=1}else g=null,l&&i('"\u001e"');g!==null?f=["",f,e,g]:(f=null,a=h)}else f=null,a=h}else f=null,a=h}else f=null,a=h;h=f!==null?{type:"translation",value:f[2].value,indices:[m.translation,a-1]}:null;h===null&&(h=null,a=b);q[c]={nextPos:a,result:h};return h}function G(){var c="integer@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var h=b=a;m.integer=a;if(""!==null){var f=a;if(d.substr(a).match(/^[0-9]/)!==
null){var e=d.charAt(a);a++}else e=null,l&&i("[0-9]");if(e!==null){if(d.substr(a).match(/^[0-9]/)!==null){var g=d.charAt(a);a++}else g=null,l&&i("[0-9]");g=g!==null?g:"";if(g!==null){if(d.substr(a).match(/^[0-9]/)!==null){var j=d.charAt(a);a++}else j=null,l&&i("[0-9]");j=j!==null?j:"";j!==null?e=[e,g,j]:(e=null,a=f)}else e=null,a=f}else e=null,a=f;e!==null?(f=a,g=l,l=false,d.substr(a).match(/^[0-9]/)!==null?(j=d.charAt(a),a++):(j=null,l&&i("[0-9]")),j===null&&(d.substr(a,4)===",000"?(j=",000",a+=
4):(j=null,l&&i('",000"')),j=j!==null?j:null),l=g,j===null?g="":(g=null,a=f),g!==null?e=["",e,g]:(e=null,a=h)):(e=null,a=h)}else e=null,a=h;h=e!==null?{type:"integer",value:parseInt(e[1].join(""),10),indices:[m.integer,a-1]}:null;h===null&&(h=null,a=b);q[c]={nextPos:a,result:h};return h}function ka(){var c="any_integer@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var e=b=a;m.any_integer=a;if(""!==null){if(d.substr(a).match(/^[0-9]/)!==null){var f=d.charAt(a);a++}else f=null,l&&i("[0-9]");if(f!==null)for(var g=
[];f!==null;)g.push(f),d.substr(a).match(/^[0-9]/)!==null?(f=d.charAt(a),a++):(f=null,l&&i("[0-9]"));else g=null;g!==null?f=["",g]:(f=null,a=e)}else f=null,a=e;e=f!==null?{type:"integer",value:parseInt(f[1].join(""),10),indices:[m.any_integer,a-1]}:null;e===null&&(e=null,a=b);q[c]={nextPos:a,result:e};return e}function ma(){var c="word@"+a,b=q[c];if(b)return a=b.nextPos,b.result;var e=b=a;m.word=a;if(""!==null){if(d.substr(a).match(/^[^\u001f\u001e]/)!==null){var f=d.charAt(a);a++}else f=null,l&&
i("[^\u001f\u001e]");if(f!==null)for(var g=[];f!==null;)g.push(f),d.substr(a).match(/^[^\u001f\u001e]/)!==null?(f=d.charAt(a),a++):(f=null,l&&i("[^\u001f\u001e]"));else g=null;g!==null?f=["",g]:(f=null,a=e)}else f=null,a=e;e=f!==null?{type:"word",value:f[1].join(""),indices:[m.word,a-1]}:null;e===null&&(e=null,a=b);q[c]={nextPos:a,result:e};return e}function t(){var d="sp@"+a,c=q[d];if(c)return a=c.nextPos,c.result;c=da();c=c!==null?c:"";q[d]={nextPos:a,result:c};return c}function da(){var c="space@"+
a,b=q[c];if(b)return a=b.nextPos,b.result;d.substr(a).match(/^[\s\u00a0*]/)!==null?(b=d.charAt(a),a++):(b=null,l&&i("[\\s\\u00a0*]"));if(b!==null)for(var e=[];b!==null;)e.push(b),d.substr(a).match(/^[\s\u00a0*]/)!==null?(b=d.charAt(a),a++):(b=null,l&&i("[\\s\\u00a0*]"));else e=null;q[c]={nextPos:a,result:e};return e}function ga(){var c;a:{c=ja;c.sort();for(var e=null,h=[],f=0;f<c.length;f++)c[f]!==e&&(h.push(c[f]),e=c[f]);switch(h.length){case 0:c="end of input";break a;case 1:c=h[0];break a;default:c=
h.slice(0,h.length-1).join(", ")+" or "+h[h.length-1]}}e=Math.max(a,fa);e=e<d.length?b(d.charAt(e)):"end of input";return"Expected "+c+" but "+e+" found."}function ia(){for(var a=1,c=1,b=false,e=0;e<fa;e++){var g=d.charAt(e);g==="\n"?(b||a++,c=1,b=false):g==="\r"|g==="\u2028"||g==="\u2029"?(a++,c=1,b=true):(c++,b=false)}return{line:a,column:c}}var X={abbrev:P,any_integer:ka,b:o,b_range:k,bc:r,bc_comma:z,bc_title:C,bcv:E,bcv_comma:Q,bcv_hyphen_range:n,bcv_weak:I,bv:L,c:A,c_explicit:ea,c_psalm:M,c_title:Z,
cb:N,cb_ordinal:O,cb_range:ca,cbv:S,cbv_ordinal:T,cv:U,cv_psalm:R,cv_sep:D,cv_sep_weak:aa,cv_weak:V,ff:K,in_book_of:ha,integer:G,integer_title:$,range:j,range_sep:W,sequence:v,sequence_sep:B,sp:t,space:da,start:function(){var c="start@"+a,d=q[c];if(d)return a=d.nextPos,d.result;var b=n();b===null&&(b=v(),b===null&&(b=ca(),b===null&&(b=j(),b===null&&(b=K(),b===null&&(b=Q(),b===null&&(b=C(),b===null&&(b=E(),b===null&&(b=I(),b===null&&(b=r(),b===null&&(b=R(),b===null&&(b=L(),b===null&&(b=k(),b===null&&
(b=M(),b===null&&(b=o(),b===null&&(b=S(),b===null&&(b=T(),b===null&&(b=N(),b===null&&(b=O(),b===null&&(b=Y(),b===null&&(b=la(),b===null&&(b=B(),b===null&&(b=Z(),b===null&&(b=$(),b===null&&(b=U(),b===null&&(b=V(),b===null&&(b=F(),b===null&&(b=G(),b===null&&(b=A(),b===null&&(b=y(),b===null&&(b=ma(),b=b!==null?b:null))))))))))))))))))))))))))))));if(b!==null)for(d=[];b!==null;)d.push(b),b=n(),b===null&&(b=v(),b===null&&(b=ca(),b===null&&(b=j(),b===null&&(b=K(),b===null&&(b=Q(),b===null&&(b=C(),b===null&&
(b=E(),b===null&&(b=I(),b===null&&(b=r(),b===null&&(b=R(),b===null&&(b=L(),b===null&&(b=k(),b===null&&(b=M(),b===null&&(b=o(),b===null&&(b=S(),b===null&&(b=T(),b===null&&(b=N(),b===null&&(b=O(),b===null&&(b=Y(),b===null&&(b=la(),b===null&&(b=B(),b===null&&(b=Z(),b===null&&(b=$(),b===null&&(b=U(),b===null&&(b=V(),b===null&&(b=F(),b===null&&(b=G(),b===null&&(b=A(),b===null&&(b=y(),b===null&&(b=ma(),b=b!==null?b:null))))))))))))))))))))))))))))));else d=null;q[c]={nextPos:a,result:d};return d},title:J,
translation:ba,translation_sequence:la,translation_sequence_enclosed:Y,v:y,v_explicit:H,v_letter:F,word:ma};if(e!==void 0){if(X[e]===void 0)throw Error("Invalid rule name: "+b(e)+".");}else e="start";var a=0,l=true,fa=0,ja=[],q={},m={},X=X[e]();if(X===null||a!==d.length)throw X=ia(),new this.SyntaxError(ga(),X.line,X.column);return X},toSource:function(){return this._source},SyntaxError:function(d,e,c){this.name="SyntaxError";this.message=d;this.line=e;this.column=c}};e.SyntaxError.prototype=Error.prototype;
return e}()}).call(this);